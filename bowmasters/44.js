"use strict";(self.webpackChunkgame=self.webpackChunkgame||[]).push([[44],{8044:(t,e,n)=>{n.r(e),n.d(e,{default:()=>ia});var r=n(6194),i=n(8436),o=n(7061),a=n(6512);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}const y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,t);var e,n,o,u=f(h);function h(){return s(this,h),u.apply(this,arguments)}return e=h,n=[{key:"onCreate",value:function(){this.view=this.query("amount"),this.value=a.Z.get("coins",0),i.Z.observer.on("coinsUpdated",this.onCoinsUpdated,this),this.updateView=this.updateView.bind(this),this.animator=null,this.updateView()}},{key:"dispose",value:function(){i.Z.observer.off("coinsUpdated",this.onCoinsUpdated,this)}},{key:"onCoinsUpdated",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.animator&&r.ZP.remove(this.animator),this.animator=new r.ZP.Tween(this).to({value:this.value+t},1e3).onUpdate(this.updateView).start()}},{key:"updateView",value:function(){this.view.text=String(Math.floor(this.value))}}],n&&c(e.prototype,n),o&&c(e,o),h}(o.Z.Container);var v=n(6013),m=n(6896),d=n(1328),b=n(6871),w=n(3494),g=n(6891),k=n(3580);function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function O(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function P(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){O(o,r,i,a,u,"next",t)}function u(t){O(o,r,i,a,u,"throw",t)}a(void 0)}))}}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},S(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?Z(t):e}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}var T,B,q,E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(l,t);var e,n,a,u,s,c=R(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),e=c.call(this,t),i.Z.observer.on("achievement",e.onAchievement,Z(e)),e.queue=[],e.totalReward=0,e.destroyed=!1,e.busy=!1,e}return e=l,n=[{key:"onCreate",value:function(){this.spawnPosition=this.query("spawnPosition"),this.moveDistance=Number(this.getProp("moveDistance"))}},{key:"dispose",value:function(){i.Z.observer.off("achievement",this.onAchievement,this),this.queue.length=0,this.destroyed=!0}},{key:"onAchievement",value:function(t){this.queue.push(t),this.spawn()}},{key:"getSpawnPosition",value:function(){return this.spawnPosition.toGlobal({x:0,y:0})}},{key:"getMoneyTarget",value:function(){return this.query(this.getProp("moneyTarget"))}},{key:"spawn",value:(s=P(regeneratorRuntime.mark((function t(){var e,n,a,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.busy){t.next=2;break}return t.abrupt("return");case 2:if(this.queue.length){t.next=4;break}return t.abrupt("return");case 4:return this.busy=!0,e=this.queue.shift(),t.next=8,o.Z.createComponent("Achievement");case 8:if(n=t.sent,!this.destroyed){t.next=11;break}return t.abrupt("return");case 11:return this.addChild(n),n.query("icon").texture=m.Fg("achievements/"+e.config.iconSpriteName[e.state.stage]),n.query("name").text=(0,d.Z)(e.config.localisationName),n.query("value").text="+"+String(e.config.coinsAward),e.config.sound&&k.Z.play(e.config.sound),a=this.toLocal(this.getSpawnPosition()),n.position.set(a.x,a.y),n.alpha=0,u=this.moveDistance,b.Z.orientation===b.Z.LANDSCAPE&&"UP"===this.getProp("landscapeDirection")&&(u=-u),b.Z.orientation===b.Z.PORTRAIT&&"UP"===this.getProp("portraitDirection")&&(u=-u),t.next=24,new r.ZP.Tween(n).to({alpha:1,y:a.y+u},500).start();case 24:if(!this.destroyed){t.next=26;break}return t.abrupt("return");case 26:for(k.Z.play("coins_get_little"),s=0;s<10;s++)this.spawnMoney(n);return t.next=30,new w.Z(500);case 30:if(!this.destroyed){t.next=32;break}return t.abrupt("return");case 32:return i.Z.observer.emit("coinsUpdated",e.config.coinsAward),this.totalReward+=e.config.coinsAward,t.next=36,new w.Z(1500);case 36:if(!this.destroyed){t.next=38;break}return t.abrupt("return");case 38:return t.next=40,o.Z.createComponent("vfx/coinsExplosion");case 40:return c=t.sent,this.getMoneyTarget().addChild(c),this.emit("coinsAdded",e.config.coinsAward),t.next=45,new r.ZP.Tween(n).to({alpha:0,y:a.y},500).start();case 45:if(!this.destroyed){t.next=47;break}return t.abrupt("return");case 47:this.removeChild(n),this.busy=!1,this.spawn();case 50:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"spawnMoney",value:(u=P(regeneratorRuntime.mark((function t(e){var n,i,a,u,s,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.destroyed){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,new w.Z(500*Math.random());case 4:if(!this.destroyed){t.next=6;break}return t.abrupt("return");case 6:return n=e.query("moneySpawnPoint").toGlobal({x:0,y:0}),n=this.toLocal(n),(i=new g.Z("main-menu/wallet/coin")).position.set(n.x,n.y),this.addChild(i),i.scale.set(.5*Math.random()+.2),new r.ZP.Tween(i.scale).to({x:2*i.scale.x,y:2*i.scale.y},500).start(),a=Math.random()*Math.PI*2,u=30*Math.random()+20,t.next=17,new r.ZP.Tween(i).to({x:n.x+Math.cos(a)*u,y:n.y+Math.sin(a)*u},250+250*Math.random()).start();case 17:if(!this.destroyed){t.next=19;break}return t.abrupt("return");case 19:return s=this.getMoneyTarget(),n=s.toGlobal({x:0,y:0}),n=this.toLocal(n),new r.ZP.Tween(i.scale).to({x:.1,y:.1},500).start(),t.next=25,new r.ZP.Tween(i).to({x:n.x,y:n.y},500).start();case 25:if(!this.destroyed){t.next=27;break}return t.abrupt("return");case 27:return c=o.Z.getCurrentLayout(s.config),l=o.Z.getScaleFromLayout(s,c.layout),t.next=31,new r.ZP.Tween(s.scale).to({x:[1.2*l.x,l.x],y:[1.2*l.y,l.y]},50).start();case 31:this.removeChild(i);case 32:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})}],n&&C(e.prototype,n),a&&C(e,a),l}(o.Z.Container);q={moneyTarget:{type:"string",value:""},portraitDirection:{type:"list",value:"DOWN",list:["UP","DOWN"]},landscapeDirection:{type:"list",value:"DOWN",list:["UP","DOWN"]},moveDistance:{type:"number",value:250}},(B="defaultProps")in(T=E)?Object.defineProperty(T,B,{value:q,enumerable:!0,configurable:!0,writable:!0}):T[B]=q;const A=E;var M=n(7952),D=n(8142);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(t,e)||X(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=X(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function X(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function H(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){U(o,r,i,a,u,"next",t)}function u(t){U(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e,n){return W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},W(t,e,n||t)}function V(t,e){return V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},V(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Q(t);if(e){var i=Q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z(this,n)}}function z(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(f,t);var e,n,i,o,u,s,c,l=G(f);function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=l.call(this,t)).playerCharacter=t.playerCharacter,e.enemyCharacter=t.enemyCharacter,e.minSpeed=2,e.maxSpeed=5,e}return e=f,n=[{key:"init",value:(c=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(Q(f.prototype),"init",this).call(this);case 2:k.Z.play("choose_character"),k.Z.play("vs_screen_appear"),this.playerBgMask=this.query("container/player/bg-mask"),this.enemyBgMask=this.query("container/enemy/bg-mask"),this.playerLinesContainer=this.query("container/player/lines-container"),this.enemyLinesContainer=this.query("container/enemy/lines-container"),this.initLines(),this.vsFrame=this.query("vs/vs_frame"),this.vsText=this.query("vs/vs"),this.playerAvatarContainer=this.query("player-info/avatar"),this.playerAvatarContainer.initScale=this.playerAvatarContainer.scale.x,this.playerAvatar=this.query("player-info/avatar/avatar"),this.playerName=this.query("player-info/name"),this.playerName.initScale=this.playerName.scale.x,this.enemyAvatarContainer=this.query("enemy-info/avatar"),this.enemyAvatarContainer.initScale=this.enemyAvatarContainer.scale.x,this.enemyAvatar=this.query("enemy-info/avatar/avatar"),this.enemyName=this.query("enemy-info/name"),this.enemyName.initScale=this.enemyName.scale.x,this.enemyNameText=this.query("enemy-info/name/text"),this.interactive=!0;case 23:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getCharacterInfo",value:function(t){return M.R.find((function(e){return e.type===t}))}},{key:"setTournamentMode",value:(s=H(regeneratorRuntime.mark((function t(){var e,n,r,i,o,u,s,c,l,h,p,y,m,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.query("enemy-info/avatar").visible=!1,e=a.Z.get("tournament"),n=[],r=N(e.enemies);try{for(r.s();!(i=r.n()).done;)o=i.value,u=this.getCharacterInfo(o),n.push({avatar:u.icon,name:(0,d.Z)(u.localizedName)})}catch(t){r.e(t)}finally{r.f()}for(s=new v.W2,this.tournamentCharacters=[],c=n.length,l=0,h=n;l<h.length;l++)p=h[l],y=new v.W2,(m=new g.Z("characters-avatars/"+p.avatar.replace("icon_","avatar_"))).anchor.set(.5),y.addChild(m),(b=new v.xv(c,{fontFamily:"PT_Sans-Web-Bold",fontSize:80,fill:16777215})).anchor.set(0,.5),b.position.set(-170,0),y.addChild(b),y.y=(c-1)*f.tournamentAvatarsDistance,s.addChild(y),y.bwAvatar=new g.Z("characters-avatars/"+p.avatar.replace("icon_","avatar_")+"_bw"),y.addChild(y.bwAvatar),c--,y.characterName=p.name,this.tournamentCharacters.push(y);s.mask=this.query("container/enemy/bg-mask"),this.query("enemy-info").addChildAt(s,0),this.tournamentEnemies=s;case 12:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"tournamentCarouselEnd",value:function(){var t=this;return new Promise((function(e){t.once("tournamentCarouselEnd",e)}))}},{key:"setCharacters",value:(u=H(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.playerCharacter=e,this.enemyCharacter=n,this.playerAvatar.texture=m.Fg("characters-avatars/".concat(this.playerCharacter.config.avatar)),this.enemyAvatar.texture=m.Fg("characters-avatars/".concat(this.enemyCharacter.config.avatar)),this.enemyNameText.text=(0,d.Z)(this.enemyCharacter.config.localizedName);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"initLines",value:function(){var t=this;this.playerLinesContainer.mask=this.playerBgMask,this.enemyLinesContainer.mask=this.enemyBgMask,this.playerLines=this.playerLinesContainer.children,this.enemyLines=this.enemyLinesContainer.children,this.playerLines.forEach((function(e){e.speed=t.getRandomSpeed()})),this.enemyLines.forEach((function(e){e.speed=t.getRandomSpeed()}))}},{key:"animateVS",value:function(){this.vsFrame.scale.set(.2),this.vsText.scale.set(.2),this.vsFrame.tween=new r.kX(this.vsFrame).to({alpha:1},300).delay(500).start(),new r.kX(this.vsFrame.scale).to({x:1,y:1},500).easing(r.oY.Bounce.Out).delay(500).start(),this.vsText.tween=new r.kX(this.vsText).to({alpha:1},300).delay(600).start(),new r.kX(this.vsText.scale).to({x:1,y:1},400).easing(r.oY.Bounce.Out).delay(600).start()}},{key:"animatePlayerAvatar",value:function(){this.playerAvatarContainer.scale.set(.5*this.playerAvatarContainer.initScale),new r.kX(this.playerAvatarContainer).to({alpha:1},300).delay(700).start(),new r.kX(this.playerAvatarContainer.scale).to({x:this.playerAvatarContainer.initScale,y:this.playerAvatarContainer.initScale},500).easing(r.oY.Back.Out).delay(700).start(),this.playerName.scale.x=0,this.playerName.scale.y=this.playerName.initScale,new r.kX(this.playerName).to({alpha:1},100).delay(1e3).start(),new r.kX(this.playerName.scale).to({x:this.playerName.initScale},200).easing(r.oY.Back.Out).delay(1e3).start()}},{key:"animateEnemyAvatar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.enemyAvatarContainer.scale.set(.5*this.enemyAvatarContainer.initScale),new r.kX(this.enemyAvatarContainer).to({alpha:1},300).delay(t+800).start(),new r.kX(this.enemyAvatarContainer.scale).to({x:this.enemyAvatarContainer.initScale,y:this.enemyAvatarContainer.initScale},500).easing(r.oY.Back.Out).delay(t+800).start(),this.enemyName.scale.x=0,this.enemyName.scale.y=this.enemyName.initScale,new r.kX(this.enemyName).to({alpha:1},100).delay(t+1100).start(),new r.kX(this.enemyName.scale).to({x:this.enemyName.initScale},200).easing(r.oY.Back.Out).delay(t+1100).start()}},{key:"initAnimations",value:function(){this.animateVS(),this.animatePlayerAvatar(),this.animateEnemyAvatar(),new w.Z(600).start().once("finish",(function(){k.Z.play("achievement_bull_head")}))}},{key:"initTournamentAnimations",value:(o=H(regeneratorRuntime.mark((function t(){var e,n,r,i,o,u,s,c,l,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.animatePlayerAvatar(),e=a.Z.get("tournament"),0!==(n=e.round)){t.next=20;break}return this.enemyNameText.text=this.tournamentCharacters[0].characterName,r=200*this.tournamentCharacters.length,this.animateEnemyAvatar(r-1e3),i=-this.tournamentCharacters[0].y,(o=new w.Z(200,this.tournamentCharacters.length-3).start()).on("repeat",(function(){k.Z.play("char-scroll")})),t.next=12,new D.Z(this.tournamentEnemies).to({y:i},r).easing(D.Z.Easing.Quadratic.Out).start();case 12:return o.stop(),this.unlockTournamentEnemy(this.tournamentCharacters[0]),this.animateVS(),t.next=17,new w.Z(1e3).start();case 17:this.emit("tournamentCarouselEnd"),t.next=41;break;case 20:for(u=0;u<n-1;u++)(s=this.tournamentCharacters[u]).bwAvatar.visible=!1,(c=new g.Z("ui/cross")).tint=16711680,s.addChild(c);return l=this.tournamentCharacters[n-1],this.tournamentEnemies.y=-l.y,l.bwAvatar.visible=!1,(f=new g.Z("ui/cross")).tint=16711680,l.addChild(f),f.scale.set(2),this.animateEnemyAvatar(0),t.next=31,new D.Z(f).to({scale:{x:1,y:1}},500).easing(D.Z.Easing.Bounce.Out).start();case 31:return h=this.tournamentCharacters[n],this.enemyNameText.text=h.characterName,this.unlockTournamentEnemy(h),k.Z.play("char-scroll"),t.next=37,new D.Z(this.tournamentEnemies).to({y:-h.y},500).easing(D.Z.Easing.Quadratic.Out).start();case 37:return this.animateVS(),t.next=40,new w.Z(1e3).start();case 40:this.emit("tournamentCarouselEnd");case 41:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"unlockTournamentEnemy",value:function(t){new D.Z(t.bwAvatar).to({alpha:0},250).start();var e=new v.TC;e.beginFill(16777215),e.drawRoundedRect(-178,-182,356,364,50),e.endFill(),t.addChild(e),e.visible=!1,new D.Z(e).to({alpha:0,scale:{x:1.5,y:1.5}},500).delay(125).onStart((function(){e.visible=!0})).start()}},{key:"update",value:function(t){var e=this;this.playerLines.forEach((function(n){var r=L(n.children,2),i=r[0],o=r[1];i.x+=n.speed*t,o.x+=n.speed*t;var a=e.playerBgMask.getBounds(),u=i.getBounds(),s=o.getBounds();u.left>a.right&&(i.x=o.x-o.width),s.left>a.right&&(o.x=i.x-i.width)})),this.enemyLines.forEach((function(n){var r=L(n.children,2),i=r[0],o=r[1];i.x-=n.speed*t,o.x-=n.speed*t;var a=e.enemyBgMask.getBounds(),u=i.getBounds(),s=o.getBounds();u.right<a.left&&(i.x=o.x+o.width),s.right<a.left&&(o.x=i.x+i.width)}))}},{key:"getRandomSpeed",value:function(){return Math.random()*(this.maxSpeed-this.minSpeed)+this.minSpeed}}],n&&Y(e.prototype,n),i&&Y(e,i),f}(o.Z.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}($,"tournamentAvatarsDistance",700);const J=$;function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function tt(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function et(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){tt(o,r,i,a,u,"next",t)}function u(t){tt(o,r,i,a,u,"throw",t)}a(void 0)}))}}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},rt(t,e,n||t)}function it(t,e){return it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},it(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ut(t);if(e){var i=ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return at(this,n)}}function at(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(c,t);var e,n,i,o,a,u,s=ot(c);function c(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,t)}return e=c,n=[{key:"init",value:(u=et(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt(ut(c.prototype),"init",this).call(this);case 2:this.bg=this.query("bg"),this.bgmask=this.query("bgmask"),this.bgmask.initialScale=this.bgmask.scale.x,this.setupReverseMask();case 6:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setupReverseMask",value:(a=et(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=new v.W2).addChild(this.bg),this.bgmask.blendMode=v.T$.ERASE,e.addChild(this.bgmask),e.filters=[new v.u8.AlphaFilter],this.addChild(e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"openMask",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;this.interactive=!1,this.maskTween&&this.maskTween.stop(),this.bgmask.alpha=1,this.maskTween=new r.kX(this.bgmask.scale).to({x:30,y:30},e).onComplete((function(){t.bg.alpha=0})).easing(r.oY.Quadratic.In).start()}},{key:"closeMask",value:(o=et(regeneratorRuntime.mark((function t(){var e,n=this,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=i.length>0&&void 0!==i[0]?i[0]:500,this.interactive=!0,this.maskTween&&this.maskTween.stop(),this.bg.alpha=1,this.maskTween=new r.kX(this.bgmask.scale).to({x:.01,y:.01},e).easing(r.oY.Quadratic.Out).onComplete((function(){n.bgmask.alpha=0})).start();case 5:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&nt(e.prototype,n),i&&nt(e,i),c}(o.Z.Component);const ct=st;function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t,e){return ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ht(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(t,e){return!e||"object"!==lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(a,t);var e,n,r,o=pt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).endTime=0,e}return e=a,(n=[{key:"dispose",value:function(){i.Z.observer.off("tick",this.tick,this)}},{key:"setup",value:function(t){i.Z.observer.off("tick",this.tick,this),this.endTime=t,this.updateView(),i.Z.observer.on("tick",this.tick,this)}},{key:"updateView",value:function(){var t=this.endTime-Date.now(),e=Math.floor(t/1e3),n=Math.floor(e/3600);e-=3600*n,n<10&&(n="0"+n);var r=Math.floor(e/60);e-=60*r,r<10&&(r="0"+r),e<10&&(e="0"+e),this.text="".concat(n,":").concat(r,":").concat(e)}},{key:"tick",value:function(t){Date.now()>=this.endTime&&(this.emit("end"),i.Z.observer.off("tick",this.tick,this)),this.updateView()}}])&&ft(e.prototype,n),r&&ft(e,r),a}(o.Z.Text);const dt=mt;var bt=n(6133),wt=n(1262);function gt(t){return t%bt.levelCount==0?bt.levelCount:t%bt.levelCount}var kt=n(4065),xt=n(2324),Ot=n(6432);function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function Ct(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e,n){return Rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Rt(t,e,n||t)}function _t(t,e){return _t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_t(t,e)}function Zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bt(t);if(e){var i=Bt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(t,e){return!e||"object"!==Pt(e)&&"function"!=typeof e?Tt(t):e}function Tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(t){return Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bt(t)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(c,t);var e,n,i,o,u,s=Zt(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),e=s.call(this,t),c.instance=Tt(e),e.currentLevel=null,e.currentLevelNormalized=null,e.currentLevelIcon=null,e}return e=c,n=[{key:"init",value:(o=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rt(Bt(c.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){Ct(i,n,r,a,u,"next",t)}function u(t){Ct(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return u.apply(this,arguments)})},{key:"onCreate",value:function(){this.levelsItems=this.queryTagAll("levelContainer"),this.initLevelsIcons(),this.updateIcons()}},{key:"initLevelsIcons",value:function(){var t=this;this.currentLevel=a.Z.get("currentLevel")||1,this.currentLevelNormalized=gt(this.currentLevel),this.levelsItems.forEach((function(e,n){e.levelNumber=n+1,t.updateLevelState(e),t.updateLevelIcons(e)}))}},{key:"updateLevelState",value:function(t){t.levelNumber<this.currentLevelNormalized?t.state="solved":t.levelNumber===this.currentLevelNormalized?(t.state="current",this.currentLevelIcon=t):t.state="unsolved"}},{key:"updateLevelIcons",value:function(t){t.queryTag("current").alpha=0,t.queryTag("solved").alpha=0,t.queryTag("unsolved").alpha=0,t.queryTag(t.state).alpha=1;var e,n=a.Z.get("currentLevel",1),r=Math.floor((n-1)/bt.levelCount)*bt.levelCount+t.levelNumber,i=xt.Z.getCurrentGameMode(r),o=null,u=!1;i===wt.Z.AppleShoot&&((o=Ot.Z.create("icons/apple/apple")).setAnimation("idle",!0),o.y=-62,u=a.Z.get("appleShootCompleted",!1)),i===wt.Z.BirdsHunt&&((o=Ot.Z.create("icons/bird/bird")).y=-65,o.setAnimation("idle",!0),u=a.Z.get("birdsHuntCompleted",!1)),i===wt.Z.Boss&&((o=Ot.Z.create("icons/scull/scull")).y=-63,o.setAnimation("idle",!0),u=!0),t.extraIcon&&t.removeChild(t.extraIcon),o&&(t.addChild(o),t.extraIcon=o,r<n&&(e=u?new g.Z("main-menu/progress-bar/icon-check"):new g.Z("main-menu/progress-bar/icon-cross"),o.addChild(e),e.y=10))}},{key:"animateProgress",value:function(){this.animateCurrentLevel();var t=this.findIconByLevelNumber(this.currentLevel+1).queryTag("current");this.animateNextLevel(t)}},{key:"animateCurrentLevel",value:function(){if(this.currentLevelNormalized===bt.levelCount)this.levelsItems.forEach((function(t){t.queryTag("current").alpha=0,t.queryTag("solved").alpha=0,t.queryTag("unsolved").alpha=1}));else{var t=this.currentLevelIcon.queryTag("current");new r.kX(t).to({scale:{y:0}},800).onComplete((function(){t.alpha=0})).start();var e=this.currentLevelIcon.queryTag("solved");e.scale.set(1,.5),new r.kX(e).to({alpha:1,scale:{y:1}},800).easing(r.oY.Back.Out).start()}}},{key:"animateNextLevel",value:function(t){var e=this;t&&new r.kX(t).to({position:{y:-4},scale:{y:1.2},alpha:0},500).easing(r.oY.Back.Out).onComplete((function(){new r.kX(t).to({alpha:1,scale:{y:1.2}},500).onComplete((function(){e.initLevelsIcons()})).easing(r.oY.Back.Out).start()})).start()}},{key:"findIconByLevelNumber",value:function(t){return this.levelsItems.find((function(e){return e.levelNumber===gt(t)}))}},{key:"dispose",value:function(){}},{key:"updateIcons",value:function(){this.setCurrentLocation(kt.Z.getCurrentLocation()),this.setNextLocation(kt.Z.getNextLocation())}},{key:"setCurrentLocation",value:function(t){this.query("current-location/icon").texture=m.Fg("main-menu/progress-bar/icon-"+t)}},{key:"setNextLocation",value:function(t){this.query("next-location/icon").texture=m.Fg("main-menu/progress-bar/icon-"+t)}}],n&&St(e.prototype,n),i&&St(e,i),c}(o.Z.Container),Et=n(25),At=n(6175),Mt=n(9565),Dt=n(9036);function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Lt(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Nt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Lt(o,r,i,a,u,"next",t)}function u(t){Lt(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(t,e,n){return Ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Ft(t,e,n||t)}function Ut(t,e){return Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ut(t,e)}function Ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vt(t);if(e){var i=Vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?Wt(t):e}function Wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vt(t){return Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vt(t)}var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(s,t);var e,n,r,i,o,u=Ht(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=u.call(this,t),s.instance=Wt(e),e.currentLevel=a.Z.get("currentLevel")||1,e.currentLevelNormalized=gt(e.currentLevel),e.options=At.Z.instance.options,e}return e=s,n=[{key:"init",value:(o=Nt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ft(Vt(s.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onCreate",value:(i=Nt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.heroContainer=this.query("hero-container/location/hero"),this.currentHero=a.Z.get("playerCharacter","RobinHood"),this.hero=(0,Mt.U)(this.currentHero),t.next=5,this.hero.init();case 5:this.resumeHeroAnimation(),this.heroContainer.addChild(this.hero);case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"resumeHeroAnimation",value:function(){var t;(null===(t=this.options)||void 0===t?void 0:t.heroAnimationProgress)?this.hero.view.setAnimationAndProgress(Dt.Z.idle,this.options.heroAnimationProgress):this.hero.playAnimation(Dt.Z.idle)}},{key:"getAnimationProgress",value:function(){var t;return null===(t=this.hero)||void 0===t?void 0:t.view.getAnimationProgress(this.hero)}},{key:"tick",value:function(t){var e,n,r;null===(e=this.hero)||void 0===e||null===(n=e.view)||void 0===n||n.update(t/1e3),null===(r=this.hero)||void 0===r||r.update(t/1e3)}}],n&&Xt(e.prototype,n),r&&Xt(e,r),s}(o.Z.Container),zt=n(4619),Qt=n(2194),$t=n(5221),Jt=n(4192),Kt=n(6434);function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function ne(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ee(o,r,i,a,u,"next",t)}function u(t){ee(o,r,i,a,u,"throw",t)}a(void 0)}))}}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t,e,n){return ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},ie(t,e,n||t)}function oe(t,e){return oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},oe(t,e)}function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ce(t);if(e){var i=ce(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?se(t):e}function se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ce(t)}var le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(c,t);var e,n,o,u,s=ae(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),e=s.call(this,t),c.instance=se(e),e.currentLevel=a.Z.get("currentLevel")||1,e.currentLevelNormalized=gt(e.currentLevel),e.options=At.Z.instance.options,e}return e=c,n=[{key:"init",value:(u=ne(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie(ce(c.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"onCreate",value:function(){this.panelContainer=this.query("panel"),this.panelBg=this.query("panel/menu-back"),this.darkGradient=this.query("panel/dark_gradient"),this.panelContainerHidden=this.query("panel-hidden"),this.panelHiddenBg=this.query("panel-hidden/menu-back"),this.arrowContainer=this.query("panel/arrow-container"),this.bgAnimation(),this.playButton=this.query("panel/btn-container/play-btn"),this.playButton.initScale=this.playButton.scale.x,this.playButtonIconPlay=this.query("panel/btn-container/play-btn/play"),this.defaultButton=this.query("panel/btn-container/play-btn/btn_yellow"),this.defaultButton.initScale=this.defaultButton.scale.x,this.playButtonBoss=this.query("panel/btn-container/play-btn/btn_boss"),this.playButtonBoss.initScale=this.playButtonBoss.scale.x,this.playButtonApple=this.query("panel/btn-container/play-btn/btn_apple"),this.playButtonApple.initScale=this.playButtonApple.scale.x,this.playButtonBirds=this.query("panel/btn-container/play-btn/btn_birds"),this.playButtonBirds.initScale=this.playButtonBirds.scale.x,this.playButtonNumber=this.query("panel/btn-container/play-btn/number"),this.initListeners(),this.updateButtons(),this.updateEvents()}},{key:"getCurrentButton",value:function(){var t=xt.Z.getCurrentGameMode();return t===wt.Z.Boss?this.playButtonBoss:t===wt.Z.AppleShoot?this.playButtonApple:t===wt.Z.BirdsHunt?this.playButtonBirds:this.playButton}},{key:"updateEvents",value:function(){var t=this,e=this.query("panel/btn-container/btn-event-apple");this.updateEventButton(e,bt.appleShotUnlockLevel),this.updateEventTimer(e,"eventApple"),e.enabled&&zt.Z.wrap(e,ne(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return At.Z.instance.transitionOverlay.closeMask(),t.next=3,new w.Z(500);case 3:i.Z.instance.showWindow(new Qt.Z(!1,!0));case 4:case"end":return t.stop()}}),t)}))));var n=this.query("panel/btn-container/btn-event-birds");this.updateEventButton(n,bt.birdsHuntUnlockLevel),this.updateEventTimer(n,"eventBirds"),n.enabled&&zt.Z.wrap(n,ne(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return At.Z.instance.transitionOverlay.closeMask(),t.next=3,new w.Z(500);case 3:i.Z.instance.showWindow(new $t.Z(!1,!0));case 4:case"end":return t.stop()}}),t)}))));var r=this.query("panel/btn-container/btn-tournament");this.updateEventButton(r,bt.tournamentUnlockLevel),r.enabled&&zt.Z.wrap(r,ne(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.animateTransionIn("Tournament");case 1:case"end":return e.stop()}}),e)}))))}},{key:"updateEventButton",value:function(t,e){if(this.currentLevel>e){t.query("ribbon").visible=!1,t.query("icon").tint=16777215,t.query("text").style.fill=16777215,t.query("text").style.stroke=1609443,t.enabled=!0;var n=t.query("btn-bg");n.clear(),n.beginFill(302591),n.drawRoundedRect(-Number(n.config.width)/2,-Number(n.config.height)/2,Number(n.config.width),Number(n.config.height),Number(n.config.radius)),n.endFill()}else t.query("ribbon/text").text="LEVEL "+(e+1),t.enabled=!1}},{key:"updateEventTimer",value:function(t,e){var n=Jt.Z.get(e),r=Date.now();if(t.enabled&&n.started&&n.endTime>r){var i=t.query("countdown/back/value");i.setup(n.endTime),i.once("end",(function(){t.query("countdown").visible=!1,Jt.Z.end(e)})),t.query("alert").visible=!1,t.query("countdown").visible=!0}else t.query("countdown").visible=!1,t.query("alert").visible=t.enabled}},{key:"updateButtons",value:function(){this.playButtonBoss.alpha=0,this.playButtonApple.alpha=0,this.playButtonBirds.alpha=0;var t=this.getCurrentButton();t.alpha=1,this.defaultButton.alpha=t===this.playButton?1:0,this.playButtonNumber.text=this.currentLevel}},{key:"initListeners",value:function(){var t=this;this.win||(this.playButton.interactive=!0),this.playButton=zt.Z.wrap(this.playButton,(function(){t.playButtonClicked||(t.playButtonClicked=!0,t.animateTransionIn())}))}},{key:"animateTransionIn",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CharacterSelect",n=this.panelContainerHidden,o=this.panelHiddenBg,a=At.Z.instance.walletHidden;"Tournament"===e&&(n=At.Z.instance.scene.query("panelContainer/panel-hidden-tournament"),o=At.Z.instance.scene.query("panelContainer/panel-hidden-tournament/menu-back"),a=At.Z.instance.scene.query("wallet-hidden-tournament")),new r.kX(this.panelBg.scale).to({x:o.scale.x,y:o.scale.y},500).onUpdate((function(){t.tilingSprite.width=t.panelBg.width,t.tilingSprite.height=t.panelBg.height,t.darkGradient.width=t.panelBg.width,t.darkGradient.height=t.panelBg.height})).onComplete(ne(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new w.Z(100);case 2:r=Gt.instance.getAnimationProgress(),"Tournament"===e&&i.Z.instance.showWindow(new Kt.Z({bgPos:t.tilingSprite.tilePosition,heroAnimationProgress:r})),"CharacterSelect"===e&&i.Z.instance.showWindow(new Et.Z({bgPos:t.tilingSprite.tilePosition,heroAnimationProgress:r}));case 5:case"end":return n.stop()}}),n)})))).easing(r.oY.Quadratic.Out).start(),new r.kX(this.panelContainer.position).to({x:n.position.x,y:n.position.y},500).start(),this.panelContainer.children.forEach((function(e){e!==t.panelBg&&e!==t.darkGradient&&e!==t.arrowContainer&&new r.kX(e).to({alpha:0},200).start()})),new r.kX(At.Z.instance.dailyGift).to({alpha:0},200).start(),new r.kX(At.Z.instance.wallet).to({position:{x:a.position.x,y:a.position.y}},500).start(),b.Z.orientation===b.Z.LANDSCAPE&&new r.kX(Gt.instance.position).to({x:-100},500).start()}},{key:"animatePlayButton",value:function(){var t=this;this.playButtonBoss.alpha=0;var e=gt(this.currentLevel)+1,n=this.getCurrentButton();xt.Z.getCurrentGameMode()!==wt.Z.VSComputer?this.defaultButton.alpha=0:this.defaultButton.alpha=1;var i=this.currentLevel;new r.kX(n).to({scale:{x:n.scale.x+.2,y:n.scale.y+.2},alpha:1},500).onComplete((function(){t.playButtonNumber.text=i+1,new r.kX(n).to({scale:{x:n.initScale,y:n.initScale}},500).onComplete((function(){t.playButton.interactive=!0,n.interactive=!0})).easing(r.oY.Back.Out).start()})).easing(r.oY.Back.Out).start(),e!==bt.levelCount&&(this.playButtonIconPlay.initScale=this.playButtonIconPlay.scale.x,this.playButtonIconPlay.scale.set(.01),new r.kX(this.playButtonIconPlay).to({rotation:[-.275,.275,0],scale:{x:this.playButtonIconPlay.initScale+.3,y:this.playButtonIconPlay.initScale+.3}},500).onComplete((function(){new r.kX(t.playButtonIconPlay).to({scale:{x:t.playButtonIconPlay.initScale,y:t.playButtonIconPlay.initScale}},500).easing(r.oY.Back.In).start()})).easing(r.oY.Back.Out).start())}},{key:"bgAnimation",value:function(){var t,e=new g.Z("main-menu/arrow_15").texture;this.tilingSprite=new v.FP(e,this.panelBg.width,this.panelBg.height),this.tilingSprite.uvMatrix.clampMargin=-.5,this.tilingSprite.anchor.set(.5),this.tilingSprite.alpha=.1,this.tilingSprite.tileScale.set(1),(null===(t=this.options)||void 0===t?void 0:t.bgPos)?this.tilingSprite.tilePosition.set(this.options.bgPos.x,this.options.bgPos.y):this.tilingSprite.tilePosition.set(15,25),this.arrowContainer.addChild(this.tilingSprite)}},{key:"dispose",value:function(){zt.Z.removeListeners(this.playButton)}},{key:"tick",value:function(t){this.tilingSprite&&(this.tilingSprite.tilePosition.x+=.2,this.tilingSprite.tilePosition.y-=.3,this.tilingSprite.width=this.panelBg.width,this.tilingSprite.height=this.panelBg.height)}}],n&&re(e.prototype,n),o&&re(e,o),c}(o.Z.Container);function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function he(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t,e,n){return ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=be(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},ye(t,e,n||t)}function ve(t,e){return ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ve(t,e)}function me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=be(t);if(e){var i=be(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return de(this,n)}}function de(t,e){return!e||"object"!==fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}var we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(c,t);var e,n,i,o,u,s=me(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this,t)).isWin=!0,e.currentLevel=a.Z.get("currentLevel")||1,e.currentLevelNormalized=gt(e.currentLevel),e}return e=c,n=[{key:"init",value:(o=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ye(be(c.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){he(i,n,r,a,u,"next",t)}function u(t){he(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return u.apply(this,arguments)})},{key:"onCreate",value:function(){this.explodeContainer=this.query("vfx/explode-container"),this.particleContainer=this.query("vfx/particle-container"),this.particles=[],this.winCoin=this.query("vfx/win-coin")}},{key:"initParticles",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=m.Fg("vfx/particle0");this.particleContainer.position.set(t.x,t.y);for(var r=0;r<30;r++){var i=new v.jy(n);i.anchor.set(.5),i.alpha=1,i.scale.set(.7),this.isWin?i.tint=16775885:i.tint=16739131,this.particleContainer.addChild(i),this.particles.push(i)}if(e)for(var o=m.Fg("vfx/star_particle"),a=0;a<30;a++){var u=new v.jy(o);u.anchor.set(.5),u.alpha=1,u.scale.set(2.7),this.isWin?u.tint=16771899:u.tint=16726843,this.particleContainer.addChild(u),this.particles.push(u)}}},{key:"startAnimation",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isWin=e,this.winCoin.alpha=0,this.winCoin.scale.set(0),this.isWin||(this.winCoin.texture=v.xE.from("main-menu/lose-coin")),new w.Z(250).once("complete",(function(){return t.explodeParticles(t.winCoin.position)})),new r.kX(this.winCoin).to({alpha:1,scale:{x:.9,y:.9}},500).onComplete((function(){t.triggerExplosion(),new r.kX(t.winCoin).to({alpha:1,scale:{x:.8,y:.8}},400).onComplete((function(){t.animateCoinFlight()})).easing(r.oY.Quadratic.Out).start()})).easing(r.oY.Back.Out).start()}},{key:"triggerExplosion",value:function(){var t=this;this.explosionFrames=this.generateAnimatedSpriteFromFrames("vfx/FX_FireTrail",128,128,4,4);for(var e=function(e){var n=new v.Kg(t.explosionFrames);n.anchor.set(.5),n.position.set(50*Math.random()-25,50*Math.random()-25),n.rotation=Math.random()*Math.PI*2,n.scale.set(1+Math.random()),n.animationSpeed=.5+.5*Math.random(),n.loop=!1,n.onComplete=function(){n.destroy()},t.explodeContainer.addChild(n),n.play(),t.animateExplosionSprite(n)},n=0;n<10;n++)e()}},{key:"explodeParticles",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.initParticles(t,n),this.particles.forEach((function(t){var n=t.x+300*(Math.random()-.5),i=t.y+300*(Math.random()-.5);new r.kX(t).to({x:n,y:i,scale:{x:0,y:0}},1500).easing(r.oY.Exponential.Out).onComplete((function(){e.particleContainer.removeChild(t)})).start()}))}},{key:"animateExplosionSprite",value:function(t){var e=t.position.x+(400*Math.random()-200),n=t.position.y+(400*Math.random()-200);new r.kX(t.position).to({x:e,y:n},2e3).easing(r.oY.Quadratic.Out).start(),new r.kX(t.scale).to({x:0,y:0},2e3).easing(r.oY.Quadratic.Out).start(),new r.kX(t).to({alpha:0},2e3).easing(r.oY.Quadratic.Out).start()}},{key:"animateCoinFlight",value:function(){var t=this,e=qt.instance.findIconByLevelNumber(this.currentLevelNormalized).getGlobalPosition(),n=this.toLocal(e);if(n){this.winCoin.alpha=1,this.winCoin.scale.set(.8);var i=this.winCoin.position.x,o=this.winCoin.position.y,a=n.x,u=n.y,s=Math.abs(o-u)/2+10,c=b.Z.orientation===b.Z.PORTRAIT?-1:1;new r.kX({t:0}).to({t:1},600).easing(r.oY.Cubic.In).onUpdate((function(e){var n=i+(a-i)*e.t,r=o+(u-o)*e.t+c*s*Math.sin(Math.PI*e.t);t.winCoin.position.set(n,r),t.addTrailSprite(t.winCoin.position),t.addTrailParticles(t.winCoin.position)})).onComplete((function(){t.explodeParticles(n,!0),new w.Z(300).once("complete",(function(){qt.instance.animateProgress(),le.instance.animatePlayButton(),t.emit("finished")}))})).start(),new r.kX(this.winCoin.scale).to({x:0,y:0},600).easing(r.oY.Cubic.In).start(),new r.kX(this.winCoin).to({alpha:0},1e3).delay(1e3).start()}}},{key:"addTrailSprite",value:function(t){var e=this,n=this.explosionFrames[Math.floor(Math.random()*this.explosionFrames.length)],i=new v.jy(n);i.anchor.set(.5),i.position.set(t.x,t.y),i.scale.set(.5*Math.random()+.8),i.rotation=Math.random()*Math.PI*2,i.alpha=1,this.explodeContainer.addChild(i),new r.kX(i).to({alpha:0,scale:{x:0,y:0}},800).onComplete((function(){e.explodeContainer.removeChild(i)})).easing(r.oY.Quadratic.Out).start()}},{key:"addTrailParticles",value:function(t){var e=this,n=m.Fg("vfx/particle0"),i=new v.jy(n);i.anchor.set(.5),i.position.set(t.x,t.y),i.scale.set(.2),i.alpha=1,this.isWin?i.tint=16775885:i.tint=16751467,this.particleContainer.addChild(i);var o=t.x+200*(Math.random()-.5),a=t.y+200*(Math.random()-.5);new r.kX(i).to({x:o,y:a,scale:{x:0,y:0}},500).easing(r.oY.Quadratic.Out).onComplete((function(){e.particleContainer.removeChild(i)})).start()}},{key:"generateAnimatedSpriteFromFrames",value:function(t,e,n,r,i){for(var o=m.Fg(t),a=[],u=0;u<r;u++)for(var s=0;s<i;s++)a.push(new v.xE(o.baseTexture,new v.Ae(s*e,u*n,e,n)));return a}}],n&&pe(e.prototype,n),i&&pe(e,i),c}(o.Z.Container);const ge=JSON.parse('{"p":[{"day":1,"reward":{"type":"coins","amount":100}},{"day":2,"reward":{"type":"coins","amount":200}},{"day":3,"reward":{"type":"hero","amount":250}},{"day":4,"reward":{"type":"coins","amount":300}},{"day":5,"reward":{"type":"coins","amount":350}},{"day":6,"reward":{"type":"coins","amount":400}},{"day":7,"reward":{"type":"coins","amount":450}},{"day":8,"reward":{"type":"coins","amount":500}},{"day":9,"reward":{"type":"hero","amount":550}},{"day":10,"reward":{"type":"coins","amount":600}},{"day":11,"reward":{"type":"coins","amount":650}},{"day":12,"reward":{"type":"coins","amount":700}},{"day":13,"reward":{"type":"coins","amount":750}},{"day":14,"reward":{"type":"coins","amount":800}},{"day":15,"reward":{"type":"hero","amount":850}}]}');var ke=n(5357);function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Oe(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Pe(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Oe(o,r,i,a,u,"next",t)}function u(t){Oe(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t,e,n){return Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Te(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Se(t,e,n||t)}function Re(t,e){return Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Re(t,e)}function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Te(t);if(e){var i=Te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(t,e){return!e||"object"!==xe(e)&&"function"!=typeof e?je(t):e}function je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Te(t){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Te(t)}var Be=ge.p,qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}(p,t);var e,n,r,u,s,c,l,f,h=_e(p);function p(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),e=h.call(this,t),p.instance=je(e),e.daysComponents=[],e.collectedRewards=a.Z.get("collectedRewards",[]),e.currentDay=a.Z.get("currentDay",1),e.rewardCycle=a.Z.get("rewardCycle",1),e.lastClaimTimestamp=a.Z.get("lastClaimTimestamp",0),e}return e=p,n=[{key:"init",value:(f=Pe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se(Te(p.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"onCreate",value:(l=Pe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.days=this.queryTagAll("day"),this.updateDailyGifts();case 2:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"updateDailyGifts",value:(c=Pe(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.days.forEach(function(){var t=Pe(regeneratorRuntime.mark((function t(n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.createComponent("dailyReward");case 2:(i=t.sent).data=Be[r],i.setReward(Be[r]),n.addChild(i),e.daysComponents.push(i);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"collectReward",value:(s=Pe(regeneratorRuntime.mark((function t(e){var n,r,u,s,c,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],r=this.getCurrentDay(),u=r.getReward(),this.collectedRewards.includes(this.currentDay)){t.next=28;break}if(this.collectedRewards.push(this.currentDay),this.lastClaimTimestamp=Date.now(),a.Z.set("collectedRewards",this.collectedRewards),a.Z.set("lastClaimTimestamp",this.lastClaimTimestamp),a.Z.set("currentDay",this.currentDay),a.Z.set("rewardCycle",this.rewardCycle),"coins"!==u.reward.type){t.next=16;break}n&&this.animateCoins(e,u),a.Z.add("coins",u.reward.amount),i.Z.observer.emit("coinsUpdated",u.reward.amount),t.next=26;break;case 16:if("hero"!==u.reward.type){t.next=26;break}return this.unlockHero(r.heroName),t.next=20,o.Z.createComponent("heroRewardVfx");case 20:return c=t.sent,k.Z.play("buy_character_common"),r.addChildAt(c,0),t.next=25,new w.Z(1e3);case 25:null==c||null===(s=c.parent)||void 0===s||s.removeChild(c);case 26:ke.Z.instance.panelReward.markDayAsClaimed(),ke.Z.instance.initClaimButton();case 28:r.markDayAsClaimed();case 29:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"animateCoins",value:(u=Pe(regeneratorRuntime.mark((function t(e,n){var r,i,a,u,s,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.days.filter((function(t,e){return e===c.currentDay-1}))[0],t.next=3,o.Z.createComponent("coinRewardVfx");case 3:return u=t.sent,t.next=6,o.Z.createComponent("coinRewardVfx");case 6:return s=t.sent,k.Z.play("coins_get_little"),null==u||u.position.set(a.x,a.y),null==e||e.addChild(s),this.addChild(u),t.next=13,new w.Z(2e3);case 13:null==u||null===(r=u.parent)||void 0===r||r.removeChild(u),null==s||null===(i=s.parent)||void 0===i||i.removeChild(s);case 15:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"unlockHero",value:function(t){a.Z.push("unlockedCharacters",t)}},{key:"getTodayReward",value:function(){return Be[this.currentDay-1]}},{key:"getCurrentDay",value:function(){return this.daysComponents[this.currentDay-1]}}],n&&Ce(e.prototype,n),r&&Ce(e,r),p}(o.Z.Container);function Ee(t){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(t)}function Ae(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Me(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ae(o,r,i,a,u,"next",t)}function u(t){Ae(o,r,i,a,u,"throw",t)}a(void 0)}))}}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ie(t,e,n){return Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ue(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Ie(t,e,n||t)}function Le(t,e){return Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Le(t,e)}function Ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ue(t);if(e){var i=Ue(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(t,e){return!e||"object"!==Ee(e)&&"function"!=typeof e?Fe(t):e}function Fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ue(t)}var He=M.R,Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Le(t,e)}(s,t);var e,n,r,i,o,u=Ne(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=u.call(this,t),s.instance=Fe(e),e.unlockedCharacters=a.Z.get("unlockedCharacters",[]),e.collectedRewards=a.Z.get("collectedRewards",[]),e.rewardCycle=a.Z.get("rewardCycle",1),e.currentDay=a.Z.get("currentDay",1),e.claimed=!1,e}return e=s,n=[{key:"init",value:(o=Me(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie(Ue(s.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onCreate",value:(i=Me(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.container=this.query("day"),this.bg=this.query("day/bg"),this.dayText=this.query("day/text"),this.amountBg=this.query("day/coins/amount/bg"),this.coinsAmount=this.query("day/coins/amount/text"),this.todayBg=this.query("day/bg-today"),this.todayRewardCircle=this.query("day/circles/today-circle"),this.config.props.current&&(this.bg.visible=!1,this.dayText.visible=!1,this.todayRewardCircle.visible=!0,this.todayReward=qe.instance.getTodayReward(),this.setReward(this.todayReward));case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setReward",value:function(t){this.dayText.text=(0,d.Z)("ui.gift.label.day".concat(t.day)),this.dayNumber=t.day;var e=(t.day-1)%15;if(this.collectedRewards.includes(this.dayNumber)&&(this.claimed=!0),this.currentDay!==this.dayNumber||this.config.props.current||this.markDayAsCurrent(),"coins"===t.reward.type)this.setCoinsReward(t);else if("hero"===t.reward.type){var n=3*(this.rewardCycle-1)+Math.floor(e/5),r=He.filter((function(t){return t.isAvailableAsDailyGift>0})),i=r[n%r.length];if(this.unlockedCharacters.includes(i.type)&&!this.claimed){var o={reward:{type:"coins",amount:t.reward.amount}};t.reward=o.reward,this.setCoinsReward(o)}else this.setHeroReward(i)}this.claimed&&this.markDayAsClaimed(),this.reward=t}},{key:"getReward",value:function(){return this.reward}},{key:"setCoinsReward",value:function(t){var e;this.query("day/coins/amount").visible=!0,this.coinsAmount.text=t.reward.amount,t.reward.amount>0&&t.reward.amount<=300?e=this.query("day/coins/small"):t.reward.amount>=301&&t.reward.amount<=500?e=this.query("day/coins/medium"):t.reward.amount>=501&&t.reward.amount<=700?e=this.query("day/coins/big"):t.reward.amount>=701&&(e=this.query("day/coins/huge")),e.visible=!0,this.icon=e}},{key:"setHeroReward",value:function(t){var e=this.query("day/hero"),n=new g.Z("characters-icons/".concat(t.icon));e.addChild(n),this.icon=n,this.heroName=t.type}},{key:"markDayAsClaimed",value:function(){this.claimed=!0,this.dayText.text=(0,d.Z)("ui.gift.label.check"),this.dayText.style.fill="#c266d1",this.coinsAmount.style.fill="#853f95",this.amountBg.alpha=.8,this.icon.alpha=.5,this.todayRewardCircle.visible=!1,this.todayBg.visible=!1}},{key:"markDayAsCurrent",value:function(){this.todayRewardCircle.visible=!0,this.todayBg.visible=!0,this.dayText.text=(0,d.Z)("ui.gift.label.today"),this.currentDayReward=this}}],n&&De(e.prototype,n),r&&De(e,r),s}(o.Z.Component);function We(t){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(t)}function Ve(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ge(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ze(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Qe(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ze(o,r,i,a,u,"next",t)}function u(t){ze(o,r,i,a,u,"throw",t)}a(void 0)}))}}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Je(t,e,n){return Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Je(t,e,n||t)}function Ke(t,e){return Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ke(t,e)}function tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rn(t);if(e){var i=rn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return en(this,n)}}function en(t,e){return!e||"object"!==We(e)&&"function"!=typeof e?nn(t):e}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(t){return rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rn(t)}var on=M.R,an=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(s,t);var e,n,r,i,o,u=tn(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=u.call(this,t),s.instance=nn(e),e.currentHero=a.Z.get("playerCharacter")||"RobinHood",e.velocity=0,e.isInertialScrolling=!1,e.inertiaDamping=.95,e.lastSelectorPosition=0,e}return e=s,n=[{key:"init",value:(o=Qe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Je(rn(s.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onCreate",value:function(){this.initSelector(),this.initListeners()}},{key:"initSelector",value:(i=Qe(regeneratorRuntime.mark((function t(){var e,n,r,i,o,u,s,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0,n=null,r=Ve(on);try{for(r.s();!(i=r.n()).done;)o=i.value,(u=new g.Z).x=e,u.y=0,u.type=o.type,(s=new g.Z("character-select/selection")).scale.set(.7),u.addChild(s),c=new g.Z("characters-icons/icon_".concat(o.type.toLowerCase())),u.selection=s,u.addChild(c),c.type=o.type,(l=new g.Z("character-select/check")).position.set(-95.2,-82),l.scale.set(.5),u.addChild(l),u.scale.set(.8),this.addChild(u),u.checkIcon=l,o.price<=0||a.Z.get("unlockedCharacters",[]).indexOf(o.type)>=0||(l.alpha=0),o.type===this.currentHero&&(n=u),e+=268}catch(t){r.e(t)}finally{r.f()}return t.next=8,new w.Z(0).start();case 8:this.x=-n.x,this.lastSelectorPosition=-n.x,this.visible=!0;case 11:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"initListeners",value:function(){this.interactive=!0,this.on("pointerdown",this.onSwipeStart.bind(this)),this.on("pointermove",this.onSwipeMove.bind(this)),this.on("pointerup",this.onSwipeEnd.bind(this)),this.on("pointerupoutside",this.onSwipeEnd.bind(this))}},{key:"removeAllListeners",value:function(){this.off("pointerdown",this.onSwipeStart.bind(this)),this.off("pointermove",this.onSwipeMove.bind(this)),this.off("pointerup",this.onSwipeEnd.bind(this)),this.off("pointerupoutside",this.onSwipeEnd.bind(this))}},{key:"onSwipeStart",value:function(t){this.pointerId||(this.pointerId=t.data.pointerId,this.dragging=!0,this.startX=t.data.global.x-this.x,this.swipeStartX=t.data.global.x,this.swipeStartTime=Date.now())}},{key:"onSwipeMove",value:function(t){if(this.pointerId===t.data.pointerId&&this.dragging){var e=t.data.global.x-this.startX;this.x=e;var n=-this.width;this.x=Math.min(0,Math.max(n,this.x)),this.setIconScale();var r=this.findClosestIcon();if(r){var i=r.children.find((function(t){return t.type})).type;this.currentHero!==i&&Et.Z.instance.updateHeroModel(r)}}}},{key:"onSwipeEnd",value:function(t){if(this.pointerId===t.data.pointerId&&(this.pointerId=null,this.dragging)){var e=Date.now()-this.swipeStartTime,n=t.data.global.x-this.swipeStartX;e<300?(this.velocity=n/20,this.isInertialScrolling=!0):this.snapToNearestIcon(),this.dragging=!1}}},{key:"updateCheckIcon",value:function(){var t,e=Ve(this.children);try{var n=function(){var e=t.value,n=e.type,r=on.find((function(t){return t.type===n})).price<=0||a.Z.get("unlockedCharacters",[]).includes(n);e.checkIcon.alpha=r?1:0};for(e.s();!(t=e.n()).done;)n()}catch(t){e.e(t)}finally{e.f()}}},{key:"setIconScale",value:function(){var t,e=b.Z.aspectRatio,n=0,r=Ve(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=this.x+i.x,a=Math.abs(0-o),u=Math.max(.8,1-a/1e3);e<1.5&&b.Z.orientation===b.Z.PORTRAIT&&(u*=.6),i.scale.set(u);var s=Math.max(.7,.87-a/1e3);i.selection.scale.set(s),i.x=n,n+=327.5}}catch(t){r.e(t)}finally{r.f()}}},{key:"snapToNearestIcon",value:function(){var t=this.findClosestIcon();if(t){Et.Z.instance.updateHeroModel(t),k.Z.play("scroll");var e=-t.x;this.smoothMoveTo(e)}}},{key:"smoothMoveTo",value:function(t){var e=this,n=Math.ceil(12),r=this.x,i=(t-r)/n,o=0;!function r(){o<n?(e.x+=i,e.setIconScale(),o++,new w.Z(250/60).once("complete",r)):(e.x=t,e.setIconScale())}()}},{key:"findClosestIcon",value:function(){var t,e=null,n=1/0,r=Ve(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=this.x+i.x,a=Math.abs(0-o);a<n&&(n=a,e=i)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"dispose",value:function(){this.removeAllListeners()}},{key:"handleResize",value:function(){this.x=this.lastSelectorPosition,this.snapToNearestIcon(),this.setIconScale()}},{key:"tick",value:function(t){if(this.x+=this.velocity,this.lastSelectorPosition=this.x,this.isInertialScrolling){this.velocity*=this.inertiaDamping,Math.abs(this.velocity)<1&&(this.isInertialScrolling=!1,this.velocity=0,this.snapToNearestIcon());var e=-this.width;this.x=Math.min(0,Math.max(e,this.x))}this.setIconScale()}}],n&&$e(e.prototype,n),r&&$e(e,r),s}(o.Z.Container),un=n(7521);function sn(t){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}function cn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fn(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e,n){return pn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},pn(t,e,n||t)}function yn(t,e){return yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yn(t,e)}function vn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bn(t);if(e){var i=bn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mn(this,n)}}function mn(t,e){return!e||"object"!==sn(e)&&"function"!=typeof e?dn(t):e}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bn(t){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bn(t)}var wn=M.R,gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yn(t,e)}(l,t);var e,n,o,u,s,c=vn(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),e=c.call(this,t),l.instance=dn(e),e.currentLevel=a.Z.get("currentLevel")||1,e.currentLevelNormalized=gt(e.currentLevel),e.options=Et.Z.instance.options,e}return e=l,n=[{key:"init",value:(u=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pn(bn(l.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=u.apply(t,e);function o(t){fn(i,n,r,o,a,"next",t)}function a(t){fn(i,n,r,o,a,"throw",t)}o(void 0)}))},function(){return s.apply(this,arguments)})},{key:"onCreate",value:function(){this.panelContainer=this.query("panel"),this.panelBg=this.query("panel/menu-back"),this.darkGradient=this.query("panel/dark_gradient"),this.panelContainerHidden=this.query("panel-hidden"),this.panelHiddenBg=this.query("panel-hidden/menu-back"),this.arrowContainer=this.query("panel/arrow-container"),this.bgAnimation(),this.buttonContainer=this.query("panel/btn-container"),this.playButton=this.query("panel/btn-container/play-btn"),this.buyButton=this.query("panel/btn-container/buy-btn"),this.heroPrice=this.query("panel/btn-container/buy-btn/text"),this.selectContainer=this.query("panel/selector-container"),this.initListeners()}},{key:"initListeners",value:function(){var t=this;this.playButton=zt.Z.wrap(this.playButton,(function(){var e;if(!t.playButtonClicked){t.playButtonClicked=!0,a.Z.set("playerCharacter",Et.Z.instance.currentHero);var n={};(null===(e=Et.Z.instance.options)||void 0===e?void 0:e.gameType)===wt.Z.Tournament&&(n.gameType=wt.Z.Tournament,n.tournamentType=Et.Z.instance.options.tournamentType),i.Z.instance.showWindow(new un.Z(n))}})),this.buyButton=zt.Z.wrap(this.buyButton,(function(){Et.Z.instance.handleHeroBuy()}))}},{key:"createFadeMask",value:function(){var t=this.panelBg.height,e=new v.TC;e.beginFill(0,1),e.drawRect(this.panelContainer.x-this.panelBg.width/2,this.panelContainer.y-this.panelBg.height/2,50,t),e.endFill(),e.beginFill(0,1),e.drawRect(this.panelContainer.x-this.panelBg.width/2+50,this.panelContainer.y-this.panelBg.height/2,this.panelBg.width-100,t),e.endFill(),e.beginFill(0,1),e.drawRect(this.panelContainer.x+this.panelBg.width/2-50,this.panelContainer.y-this.panelBg.height/2,50,t),e.endFill(),this.selectContainer.mask=e,this.addChild(e)}},{key:"updateMask",value:function(){var t=this.panelBg.height;this.selectContainer.mask&&(this.selectContainer.mask.clear(),this.selectContainer.mask.beginFill(0,1),this.selectContainer.mask.drawRect(this.panelContainer.x-this.panelBg.width/2,this.panelContainer.y-this.panelBg.height/2,50,t),this.selectContainer.mask.endFill(),this.selectContainer.mask.beginFill(0,1),this.selectContainer.mask.drawRect(this.panelContainer.x-this.panelBg.width/2+50,this.panelContainer.y-this.panelBg.height/2,this.panelBg.width-100,t),this.selectContainer.mask.endFill(),this.selectContainer.mask.beginFill(0,1),this.selectContainer.mask.drawRect(this.panelContainer.x+this.panelBg.width/2-50,this.panelContainer.y-this.panelBg.height/2,50,t),this.selectContainer.mask.endFill())}},{key:"appearUI",value:function(){new r.kX(this.buttonContainer).to({alpha:1},500).start(),new r.kX(this.selectContainer).to({alpha:1},500).start()}},{key:"hideUI",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"MainMenu";new r.kX(this.buttonContainer).to({alpha:0},200).start(),new r.kX(this.selectContainer).to({alpha:0},200).start();var n=this.panelHiddenBg,i=this.panelContainerHidden;"Tournament"===e&&(n=Et.Z.instance.scene.query("panelContainer/panel-hidden-tournament/menu-back"),i=Et.Z.instance.scene.query("panelContainer/panel-hidden-tournament")),new r.kX(this.panelBg.scale).to({x:n.scale.x,y:n.scale.y},500).onUpdate((function(){t.tilingSprite.width=t.panelBg.width,t.tilingSprite.height=t.panelBg.height,t.darkGradient.width=t.panelBg.width})).easing(r.oY.Quadratic.Out).start(),new r.kX(this.panelContainer.position).to({x:i.position.x,y:i.position.y},500).start()}},{key:"bgAnimation",value:function(){var t,e=new g.Z("main-menu/arrow_15").texture;this.tilingSprite=new v.FP(e,this.panelBg.width,this.panelBg.height),this.tilingSprite.uvMatrix.clampMargin=-.5,this.tilingSprite.anchor.set(.5),this.tilingSprite.alpha=.1,this.tilingSprite.tileScale.set(1),(null===(t=this.options)||void 0===t?void 0:t.bgPos)?this.tilingSprite.tilePosition.set(this.options.bgPos.x,this.options.bgPos.y):this.tilingSprite.tilePosition.set(15,25),this.arrowContainer.addChild(this.tilingSprite)}},{key:"updateButtons",value:function(t){var e=t.price<=0||a.Z.get("unlockedCharacters",[]).indexOf(t.type)>=0,n=this.selectContainer.children.find((function(e){return e.type===t.type})).checkIcon;e?(this.playButton.alpha=1,this.buyButton.alpha=0,this.playButton.interactive=!0,this.buyButton.interactive=!1,n.alpha=1):(this.playButton.alpha=0,this.buyButton.alpha=1,this.playButton.interactive=!1,this.buyButton.interactive=!0,this.heroPrice.text=t.price,n.alpha=0)}},{key:"updateTotalCharactersText",value:function(){var t,e=this.query("panel/btn-container/count/count"),n=wn.length,r=0,i=cn(wn);try{for(i.s();!(t=i.n()).done;){var o=t.value;(o.price<=0||a.Z.get("unlockedCharacters",[]).indexOf(o.type)>=0)&&r++}}catch(t){i.e(t)}finally{i.f()}e.text="".concat(r,"/").concat(n)}},{key:"dispose",value:function(){zt.Z.removeListeners(this.playButton),zt.Z.removeListeners(this.buyButton)}},{key:"handleResize",value:function(){this.updateMask(),this.tilingSprite.width=this.panelBg.width,this.tilingSprite.height=this.panelBg.height}},{key:"tick",value:function(t){this.tilingSprite&&(this.tilingSprite.tilePosition.x+=.2,this.tilingSprite.tilePosition.y-=.3,this.tilingSprite.width=this.panelBg.width,this.tilingSprite.height=this.panelBg.height)}}],n&&hn(e.prototype,n),o&&hn(e,o),l}(o.Z.Container);function kn(t){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(t)}function xn(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function On(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e){return Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pn(t,e)}function Cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rn(t);if(e){var i=Rn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(t,e){return!e||"object"!==kn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rn(t){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rn(t)}var _n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}(s,t);var e,n,i,o,a,u=Cn(s);function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),u.call(this,t)}return e=s,n=[{key:"onCreate",value:function(){this.chestContainer=this.query("chest"),this.reward=this.query("reward")}},{key:"showChest",value:function(){this.initChest()}},{key:"initChest",value:(o=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ot.Z.load("chest/chest");case 2:return this.chest=t.sent,this.chestContainer.addChild(this.chest),this.chest.setAnimation("appear_one_lock",!1),t.next=7,new w.Z(1500);case 7:return this.chest.setAnimation("unlock_one_lock",!1),t.next=10,new w.Z(1e3);case 10:this.showTotalReward(),k.Z.play("pvp_ui_chest_ready"),this.chest.setAnimation("open",!1);case 13:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){xn(i,n,r,a,u,"next",t)}function u(t){xn(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"showTotalReward",value:function(){this.reward.y=this.reward.y+200,new r.kX(this.reward).to({y:this.reward.y-200,alpha:1},1e3).easing(r.oY.Quadratic.Out).start()}}],n&&On(e.prototype,n),i&&On(e,i),s}(o.Z.Container);const Zn={None:0,Man:1,Woman:2};function jn(t){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jn(t)}function Tn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qn(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function En(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){qn(o,r,i,a,u,"next",t)}function u(t){qn(o,r,i,a,u,"throw",t)}a(void 0)}))}}function An(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e,n){return Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Mn(t,e,n||t)}function Dn(t,e){return Dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dn(t,e)}function In(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nn(t);if(e){var i=Nn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ln(this,n)}}function Ln(t,e){return!e||"object"!==jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nn(t){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nn(t)}var Xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dn(t,e)}(h,t);var e,n,a,u,s,c,l,f=In(h);function h(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(e=f.call(this,t)).level=null,e}return e=h,n=[{key:"init",value:(l=En(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mn(Nn(h.prototype),"init",this).call(this);case 2:this.infoBar=this.query("info"),this.playerLife=this.query("info/playerLife"),this.enemyLife=this.query("info/enemyLife"),this.playerIcon=this.query("info/playerIcon"),this.enemyIcon=this.query("info/enemyIcon"),this.distanceMark=this.query("distanceMark"),this.turnInfo=this.query("turn-info"),this.playerText=this.query("turn-info/text-player"),this.enemyText=this.query("turn-info/text-enemy"),this.turnInfoGlow=this.query("turn-info/turn-info/turn-info-bg-glow"),this.turnInfoReflection=this.query("turn-info/turn-info-reflection"),this.fatalityFlag=this.query("fatality"),this.fatalityTextFinish=this.query("fatality/finish"),this.fatalityTextFinish.mask=this.query("fatality/flag_finish_bg_mask"),this.fatalityTextHim=this.query("fatality/him"),this.fatalityTextHim.mask=this.query("fatality/flag_finish_bg_mask"),this.fatalityTextHer=this.query("fatality/her"),this.fatalityTextHer.mask=this.query("fatality/flag_finish_bg_mask"),this.skull=this.query("fatality/flag_finish_skull"),this.skull.mask=this.query("fatality/flag_finish_bg_mask");case 22:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"initListeners",value:function(){var t=this;this.pauseBtn=this.query("pause"),this.pauseBtn.interactive=!0,this.pauseBtn.on("pointerdown",(function(){t.togglePause()})),this.pausePopup=this.query("pause-popup"),this.resumeBtn=zt.Z.wrap(this.query("pause-popup/resume-btn"),En(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.resumeBtnClicked&&!t.quitBtnClicked){e.next=2;break}return e.abrupt("return");case 2:return t.resumeBtnClicked=!0,t.togglePause(),e.next=6,new w.Z(500);case 6:t.resumeBtnClicked=!1;case 7:case"end":return e.stop()}}),e)})))),this.resumeBtn.interactive=!1,this.quitBtn=zt.Z.wrap(this.query("pause-popup/quit-btn"),En(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.level.gameType!==wt.Z.Tournament){e.next=10;break}if(!t.quitBtnClicked&&!t.resumeBtnClicked){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,o.Z.createComponent("LeaveTournamentPopup");case 5:n=e.sent,t.level.addChild(n),n.once("yes",En(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.quitBtnClicked=!0,i.Z.instance.showWindow(new At.Z);case 2:case"end":return e.stop()}}),e)})))),e.next=14;break;case 10:if(!t.quitBtnClicked&&!t.resumeBtnClicked){e.next=12;break}return e.abrupt("return");case 12:t.quitBtnClicked=!0,i.Z.instance.showWindow(new At.Z({prevGameType:t.level.gameType,fromEvent:t.level.isEvent}));case 14:case"end":return e.stop()}}),e)})))),this.quitBtn.interactive=!1,this.howToPlayButton=this.query("howToPlayButton"),this.howToPlayButton.interactive=!0,this.howToPlayButton.on("pointerdown",(function(){var e;k.Z.play("button"),null===(e=t.level)||void 0===e||e.showHowToPlay()})),this.howToUseSpecialButton=this.query("howToUseSpecialButton"),this.howToUseSpecialButton.interactive=!0,this.howToUseSpecialButton.on("pointerdown",(function(){var e;k.Z.play("button"),null===(e=t.level)||void 0===e||e.showHowToUseSpecial()})),i.Z.instance.getQueryStringParam("controls")&&(this.query("debug").visible=!0,zt.Z.wrap(this.query("debug/win"),(function(){var e;null===(e=t.level)||void 0===e||e.debugWin()})),zt.Z.wrap(this.query("debug/lose"),(function(){var e;null===(e=t.level)||void 0===e||e.debugLose()})))}},{key:"hidePauseButton",value:(c=En(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new D.Z(this.pauseBtn).to({x:-b.Z.gameWidth/2-300},500).start();case 2:this.pauseBtn.visible=!1;case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"disablePauseButton",value:function(){this.pauseBtn.interactive=!1}},{key:"setLevel",value:function(t){this.level=t,this.distanceMark.setLevel(t)}},{key:"setInitialPlayerLife",value:function(t){this.playerLife.setInitialValue(t)}},{key:"setInitialEnemyLife",value:function(t){this.enemyLife.setInitialValue(t)}},{key:"setPlayerLife",value:function(t){this.playerLife.setValue(t)}},{key:"setEnemyLife",value:function(t){this.enemyLife.setValue(t)}},{key:"setPlayerIcon",value:function(t){this.playerIcon.texture=m.Fg("characters-icons/"+t)}},{key:"setEnemyIcon",value:function(t){this.enemyIcon.texture=m.Fg("characters-icons/"+t)}},{key:"showTurnInfo",value:function(t){var e=this,n=b.Z.width,i="enemy"===t?n:-this.turnInfo.width,o=this.turnInfo.x;this.turnInfo.x=i,this.playerText.visible="player"===t,this.enemyText.visible="enemy"===t,new r.kX(this.turnInfo).to({x:o,alpha:1},500).onComplete((function(){e.turnInfoReflection.x=-170,e.turnInfoReflection.alpha=1,new r.kX(e.turnInfoReflection).to({x:170,alpha:0},500).easing(r.oY.Quadratic.Out).onComplete((function(){new r.kX(e.turnInfo).to({x:-i,alpha:0},500).delay(500).onComplete((function(){e.turnInfo.x=0})).easing(r.oY.Back.Out).start()})).start(),new r.kX(e.turnInfo).to({scale:{x:.8,y:.8}},250).easing(r.oY.Back.In).onComplete((function(){new r.kX(e.turnInfo).to({scale:{x:.7,y:.7}},250).easing(r.oY.Back.Out).start()})).start(),new r.kX(e.turnInfoGlow).to({alpha:.8},250).onComplete((function(){new r.kX(e.turnInfoGlow).to({alpha:0},250).start()})).start()})).easing(r.oY.Back.Out).start()}},{key:"showFatalityFlag",value:function(t){var e=this;t===Zn.Man?k.Z.play("finish_him"):k.Z.play("finish_her");var n={x:this.fatalityFlag.scale.x,y:this.fatalityFlag.scale.y};this.fatalityFlag.scale.set(.1*n.x,.1*n.y),new r.kX(this.fatalityFlag.scale).to({x:n.x,y:n.y},500).onComplete((function(){var i=e.fatalityTextFinish.children;i.forEach((function(t,e){new r.kX(t).to({alpha:1,scale:{x:1.3,y:1.3}},200).delay(50*e).onComplete((function(){new r.kX(t).to({scale:{x:1,y:1}},200).start()})).easing(r.oY.Back.Out).start()}));var o=(t===Zn.Man?e.fatalityTextHim:e.fatalityTextHer).children,a=50*i.length;o.forEach((function(t,e){new r.kX(t).to({alpha:1,scale:{x:1.3,y:1.3}},200).delay(a+50*e).onComplete((function(){new r.kX(t).to({scale:{x:1,y:1}},200).start()})).easing(r.oY.Back.Out).start()}));var u=a+50*o.length+200;new r.kX(e.skull).to({alpha:1,scale:{x:1.3,y:1.3}},200).delay(u).onComplete((function(){new r.kX(e.skull).to({scale:{x:1.07,y:1.07}},100).onComplete((function(){new r.kX(e.fatalityFlag.scale).to({x:.1*n.x,y:.1*n.y},500).onComplete((function(){e.fatalityFlag.alpha=0,e.fatalityFlag.scale.set(n.x,n.y)})).delay(200).easing(r.oY.Back.In).start()})).easing(r.oY.Back.Out).start()})).easing(r.oY.Back.Out).start()})).easing(r.oY.Back.Out).start(),new r.kX(this.fatalityFlag).to({alpha:1},500).easing(r.oY.Quadratic.Out).start()}},{key:"togglePause",value:function(){var t=this;this.quitBtn.interactive=!1,this.resumeBtn.interactive=!1,this.gamePaused?(this.children.forEach((function(t){t.config.props.alwaysOnDisplay&&(t.alpha=1),t.interactive=t.oldInteractive})),this.emit("resume"),new r.kX(this.pausePopup).to({y:b.Z.height,alpha:0},700).onComplete((function(){t.gamePaused=!1,t.resumeBtn.interactive=!1,t.quitBtn.interactive=!1})).easing(r.oY.Back.In).start()):(this.children.forEach((function(t){t.alpha=0,t.oldInteractive=t.interactive,t.interactive=!1})),this.pausePopup.y=b.Z.height,this.pausePopup.alpha=0,k.Z.play("pause_menu_appear"),this.emit("pause"),new r.kX(this.pausePopup).to({y:0,alpha:1},700).onComplete(En(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.gamePaused=!0,t.resumeBtn.interactive=!0,t.quitBtn.interactive=!0;case 3:case"end":return e.stop()}}),e)})))).easing(r.oY.Back.Out).start())}},{key:"showHowToPlay",value:function(){this.howToPlayButton.visible||this.level.isFinishShot||(this.howToPlayButton.visible=!0,this.howToPlayButton.x=-b.Z.gameWidth/2-200,new r.kX(this.howToPlayButton).to({x:-b.Z.gameWidth/2},500).easing(r.oY.Back.Out).start())}},{key:"hideHowToPlay",value:function(){var t=this;this.howToPlayButton.visible&&new r.kX(this.howToPlayButton).to({x:-b.Z.gameWidth/2-200},500).easing(r.oY.Back.In).onComplete((function(){t.howToPlayButton.visible=!1})).start()}},{key:"showHowToUseSpecial",value:(s=En(regeneratorRuntime.mark((function t(){var e,n,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.howToUseSpecialButton.visible&&!this.level.isFinishShot){t.next=2;break}return t.abrupt("return");case 2:if(this.level.gameType!==wt.Z.AppleShoot){t.next=4;break}return t.abrupt("return");case 4:if(this.level.gameType!==wt.Z.BirdsHunt){t.next=6;break}return t.abrupt("return");case 6:e="",n=Tn(M.R),t.prev=8,n.s();case 10:if((i=n.n()).done){t.next=17;break}if((o=i.value).type!==this.level.player.name){t.next=15;break}return e=o.weaponIcon,t.abrupt("break",17);case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),n.e(t.t0);case 22:return t.prev=22,n.f(),t.finish(22);case 25:if(e){t.next=27;break}return t.abrupt("return");case 27:return this.howToUseSpecialButton.query("icon").texture=m.Fg("weapons-icons/"+e),(a=this.howToUseSpecialButton.query("shine")).mask=this.howToUseSpecialButton.query("mask"),a.x=-100,this.howToUseSpecialButton.visible=!0,this.howToUseSpecialButton.x=-b.Z.gameWidth/2-200,t.next=35,new D.Z(this.howToUseSpecialButton).to({x:-b.Z.gameWidth/2},500).easing(r.oY.Back.Out).start();case 35:this.howToUseSpecialButton.shineTween=new D.Z(a).to({x:520},1e3).repeat(1/0).start(),this.howToUseSpecialButton.scaleTween=new D.Z(this.howToUseSpecialButton).to({scale:{x:1.05}},500).repeat(1/0).yoyo(!0).start();case 37:case"end":return t.stop()}}),t,this,[[8,19,22,25]])}))),function(){return s.apply(this,arguments)})},{key:"hideHowToUseSpecial",value:(u=En(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.howToUseSpecialButton.visible){t.next=2;break}return t.abrupt("return");case 2:new D.Z(this.howToUseSpecialButton).to({x:-b.Z.gameWidth/2-200},500).easing(r.oY.Back.In).onComplete((function(){e.howToUseSpecialButton.visible=!1})).start(),this.howToUseSpecialButton.shineTween&&(this.howToUseSpecialButton.shineTween.stop(),this.howToUseSpecialButton.shineTween=null),this.howToUseSpecialButton.scaleTween&&(this.howToUseSpecialButton.scaleTween.stop(),this.howToUseSpecialButton.scaleTween=null);case 5:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setNormalMode",value:function(){this.query("info").visible=!0,this.query("apples").visible=!1,this.query("birds").visible=!1}},{key:"setApplesMode",value:function(){this.query("info").visible=!1,this.query("apples").visible=!0,this.query("birds").visible=!1}},{key:"setBirdsMode",value:function(){this.query("info").visible=!1,this.query("apples").visible=!1,this.query("birds").visible=!0}},{key:"update",value:function(t){this.distanceMark.update(t)}}],n&&An(e.prototype,n),a&&An(e,a),h}(o.Z.Component);const Fn=Xn;function Un(t){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(t)}function Hn(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wn(t,e,n){return Wn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Wn(t,e,n||t)}function Vn(t,e){return Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vn(t,e)}function Gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qn(t);if(e){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zn(this,n)}}function zn(t,e){return!e||"object"!==Un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qn(t){return Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qn(t)}var $n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vn(t,e)}(s,t);var e,n,i,o,a,u=Gn(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=u.call(this,t)).max=100,e.value=100,e.current=100,e.animation=null,e}return e=s,n=[{key:"init",value:(o=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wn(Qn(s.prototype),"init",this).call(this);case 2:this.front=this.query("front"),this.frontMask=this.query("mask"),this.front.mask=this.frontMask;case 5:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){Hn(i,n,r,a,u,"next",t)}function u(t){Hn(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"setInitialValue",value:function(t){this.max=t,this.value=t,this.current=t,this.animation&&r.ZP.remove(this.animation),this.updateView()}},{key:"setValue",value:function(t){var e=this;t<0&&(t=0),t>this.max&&(t=this.max),this.value=t,this.animation&&r.ZP.remove(this.animation),this.current!=this.value&&(this.animation=new r.ZP.Tween(this).to({current:this.value},1e3).onUpdate((function(){e.updateView()})).start())}},{key:"updateView",value:function(){var t=this.current/this.max;this.frontMask.clear(),this.frontMask.beginFill(16711680),this.frontMask.drawRect(0,-this.front.height/2,-this.front.width*t,this.front.height),this.frontMask.endFill()}}],n&&Yn(e.prototype,n),i&&Yn(e,i),s}(o.Z.Component);const Jn=$n;var Kn=n(1806);function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}function er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rr(t,e){return rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rr(t,e)}function ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ur(t);if(e){var i=ur(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return or(this,n)}}function or(t,e){return!e||"object"!==tr(e)&&"function"!=typeof e?ar(t):e}function ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ur(t){return ur=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ur(t)}function sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rr(t,e)}(o,t);var e,n,r,i=ir(o);function o(){var t;er(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return sr(ar(t=i.call.apply(i,[this].concat(n))),"currentIcon",null),t}return e=o,(n=[{key:"setLevel",value:function(t){this.level=t}},{key:"update",value:function(t){var e=this.level.getOpponent(this.level.currentCharacter);if(this.level.currentCharacter&&e){this.visible=!0;var n=this.level.getActiveProjectile(),r=0,i=0;n?(r=Math.floor(Kn.Z.magnitude(n.position.x-e.position.x,n.position.y-e.position.y)/100),i=n.position.x-e.position.x):(r=Math.floor(Kn.Z.magnitude(this.level.currentCharacter.position.x-e.position.x,this.level.currentCharacter.position.y-e.position.y)/100),i=this.level.currentCharacter.position.x-e.position.x),this.query("distance").text=Math.abs(r)+" m";var o=e.config.icon;if(this.currentIcon!==o){var a=this.query("icon");a.texture=m.Fg("characters-icons/"+o),a.scale.x=a.scale.y*(e===this.level.player?1:-1);var u=this.query("back");u.scale.x=u.scale.y*Math.sign(-i)}this.x=(b.Z.gameWidth/2-150)*Math.sign(-i);var s=e.parent.toGlobal({x:e.position.x,y:e.position.y});s=this.parent.toLocal(s),this.y=s.y;var c=-b.Z.gameHeight/2+250,l=b.Z.gameHeight/2-150;this.y<c&&(this.y=c),this.y>l&&(this.y=l),this.level.ready||(this.visible=!1),this.level.busy&&(this.visible=!1),this.level.ended&&(this.visible=!1),(s=e.toGlobal({x:0,y:-300})).x>0&&s.x<b.Z.gameWidth&&s.y>0&&s.y<b.Z.gameHeight&&(this.visible=!1)}else this.visible=!1}}])&&nr(e.prototype,n),r&&nr(e,r),o}(o.Z.Container);function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function fr(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pr(t,e,n){return pr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dr(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},pr(t,e,n||t)}function yr(t,e){return yr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yr(t,e)}function vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dr(t);if(e){var i=dr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mr(this,n)}}function mr(t,e){return!e||"object"!==lr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dr(t){return dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dr(t)}var br=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yr(t,e)}(u,t);var e,n,r,i,o,a=vr(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).level=null,e.paralaxScale=e.getProp("paralaxScale"),e}return e=u,n=[{key:"init",value:(i=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pr(dr(u.prototype),"init",this).call(this);case 2:(e=this.query("root")).config=null,e.y=Number(this.getProp("shiftY"));case 5:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){fr(o,n,r,a,u,"next",t)}function u(t){fr(o,n,r,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"update",value:function(t){this.scale.x=this.level.mainContainer.scale.x,this.scale.y=this.level.mainContainer.scale.y,this.pivot.x=this.level.mainContainer.pivot.x*this.paralaxScale,this.pivot.y=this.level.mainContainer.pivot.y*this.paralaxScale,this.pivot.y-=this.level.floor.firstLayerY}}],n&&hr(e.prototype,n),r&&hr(e,r),u}(o.Z.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(br,"defaultProps",{paralaxScale:{type:"number",value:1},shiftY:{type:"number",value:0}});const wr=br;function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Or(t,e){return Or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Or(t,e)}function Pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sr(t);if(e){var i=Sr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}function Cr(t,e){return!e||"object"!==gr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}const Rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Or(t,e)}(o,t);var e,n,r,i=Pr(o);function o(){return kr(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"setup",value:function(t){this.difficulty=t,this.hits=0,this.misses=0,this.progress=this.query("gameProgress"),this.progress.setup(t),this.missesViews=[this.query("misses/miss1"),this.query("misses/miss2"),this.query("misses/miss3")],this.updateMisses()}},{key:"updateMisses",value:function(){for(var t=0;t<this.missesViews.length;t++)this.missesViews[t].tint=t<this.misses?14301491:5839968}},{key:"handleMiss",value:function(){this.misses++,this.updateMisses()}},{key:"handleHit",value:function(){this.hits++,this.hits>this.difficulty&&(this.hits=this.difficulty),this.progress.update(this.hits)}}])&&xr(e.prototype,n),r&&xr(e,r),o}(o.Z.Container);function _r(t){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(t)}function Zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tr(t,e){return Tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Tr(t,e)}function Br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Er(t);if(e){var i=Er(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qr(this,n)}}function qr(t,e){return!e||"object"!==_r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Er(t){return Er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Er(t)}const Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}(a,t);var e,n,i,o=Br(a);function a(){return Zr(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"setup",value:function(t,e){this.difficulty=t,this.time=e,this.hits=0,this.progress=this.query("gameProgress"),this.progress.setup(t),this.timeView=this.query("clock/value")}},{key:"handleHit",value:function(){this.hits++,this.hits>this.difficulty&&(this.hits=this.difficulty),this.progress.update(this.hits)}},{key:"setTime",value:function(t){var e=this;if(t-this.time>0){this.animator&&this.animator.stop();var n=this.query("clock/value");n.style.fill=3392346,n.scale.set(2),this.animator=new r.ZP.Tween(n.scale).to({x:1,y:1},1e3).easing(r.ZP.Easing.Elastic.Out).onComplete((function(){n.style.fill=e.time>=6e3?16777215:16711680,e.animator=null})).start()}if(t<6e3&&Math.floor(t/1e3)!==Math.floor(this.time/1e3)){this.animator&&this.animator.stop();var i=this.query("clock/value");i.style.fill=16711680,i.scale.set(2),this.animator=new r.ZP.Tween(i.scale).to({x:1,y:1},1e3).easing(r.ZP.Easing.Elastic.Out).onComplete((function(){e.animator=null})).start()}this.time=t,this.time<0&&(this.time=0);var o=Math.floor(this.time/1e3),a=Math.floor(o/60);(o%=60)<10&&(o="0"+o),a<10&&(a="0"+a),this.timeView.text=a+":"+o}}])&&jr(e.prototype,n),i&&jr(e,i),a}(o.Z.Container);function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}function Dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t,e){return Lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Lr(t,e)}function Nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ur(t);if(e){var i=Ur(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xr(this,n)}}function Xr(t,e){return!e||"object"!==Mr(e)&&"function"!=typeof e?Fr(t):e}function Fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}function Hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lr(t,e)}(o,t);var e,n,r,i=Nr(o);function o(){var t;Dr(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Hr(Fr(t=i.call.apply(i,[this].concat(n))),"separatorsColor",5446239),t}return e=o,n=[{key:"setup",value:function(t){this.total=t,this.count=0,this.progressAnimator=null,this.progress=this.query("progressBar/progress"),this.progressMask=new v.TC,this.progressMask.beginFill(16711680),this.progressMask.drawRect(0,0,1,2*this.progress.height),this.progress.addChild(this.progressMask),this.progressMask.x=-this.progress.width/2,this.progressMask.y=-this.progress.height/2,this.progress.mask=this.progressMask,this.progressMask.width=0;var e=new v.TC,n=this.query("progressBar/fill");this.query("progressBar/delimiters").addChild(e);for(var r=n.width,i=n.height,o=r/this.total,a=1;a<this.total;a++)e.beginFill(this.separatorsColor),e.drawRect(-r/2+a*o-5,-i/2,10,i),e.endFill()}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.count=t,this.count>this.total&&(this.count=this.total),this.progressAnimator&&this.progressAnimator.stop(),e?this.progressMask.width=this.progress.width*this.count/this.total:this.progressAnimator=new D.Z(this.progressMask).to({width:this.progress.width*this.count/this.total},500).start()}}],n&&Ir(e.prototype,n),r&&Ir(e,r),o}(o.Z.Component);function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Vr(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(t,e,n){return Qr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ti(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Qr(t,e,n||t)}function $r(t,e){return $r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$r(t,e)}function Jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ti(t);if(e){var i=ti(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(t,e){return!e||"object"!==Wr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ti(t){return ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ti(t)}var ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$r(t,e)}(u,t);var e,n,r,i,o,a=Jr(u);function u(){return Gr(this,u),a.apply(this,arguments)}return e=u,n=[{key:"init",value:(i=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qr(ti(u.prototype),"init",this).call(this);case 2:(e=this.query("border")).clear(),e.lineStyle(10,16777215,1),e.beginFill(7938941,1),e.drawCircle(0,0,48),e.endFill();case 8:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){Vr(o,n,r,a,u,"next",t)}function u(t){Vr(o,n,r,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"setup",value:function(t){this.time=t,this.updateView()}},{key:"updateView",value:function(){this.query("value").text=Math.floor(this.time/1e3)+1}},{key:"update",value:function(t){this.time<=0||(this.time-=t,this.time<=0&&(this.time=0,this.emit("complete")),this.updateView())}}],n&&zr(e.prototype,n),r&&zr(e,r),u}(o.Z.Component);const ni=ei;var ri=n(4797);function ii(t){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(t)}function oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ui(t,e){return ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ui(t,e)}function si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=li(t);if(e){var i=li(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ci(this,n)}}function ci(t,e){return!e||"object"!==ii(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function li(t){return li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},li(t)}const fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ui(t,e)}(a,t);var e,n,r,i=si(a);function a(){return oi(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"onCreate",value:function(){var t=this;this.query("back").interactive=!0,zt.Z.wrap(this.query("popup/content/yesButton"),(function(){ri.Z.lose(),t.emit("yes"),t.dispose()})),zt.Z.wrap(this.query("popup/content/noButton"),(function(){t.emit("no"),t.dispose()})),b.Z.on("resize",this.handleResize,this)}},{key:"dispose",value:function(){b.Z.off("resize",this.handleResize,this),this.parent&&this.parent.removeChild(this),this.removeAllListeners()}},{key:"handleResize",value:function(){o.Z.resize(this)}}])&&ai(e.prototype,n),r&&ai(e,r),a}(o.Z.Component);var hi=n(5977);function pi(t){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(t)}function yi(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function di(t,e){return di=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},di(t,e)}function bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gi(t);if(e){var i=gi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wi(this,n)}}function wi(t,e){return!e||"object"!==pi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gi(t){return gi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gi(t)}var ki=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&di(t,e)}(u,t);var e,n,r,i,o,a=bi(u);function u(){return vi(this,u),a.apply(this,arguments)}return e=u,n=[{key:"onCreate",value:(i=regeneratorRuntime.mark((function t(){var e,n,r,i,o,a,u,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=500,n=this.query("ring"),r=this.query("part1"),i=this.query("part2"),o=this.query("part3"),a=this.query("trail1"),u=this.query("trail2"),s=this.query("trail3"),new D.Z(n).to({scale:{x:7,y:7},alpha:0},e).start(),new D.Z(r).to({x:-200,y:-200,rotation:Math.random()*Math.PI*2,scale:{x:.5,y:.5}},e).start(),new D.Z(i).to({x:150,y:-80,rotation:Math.random()*Math.PI*2,scale:{x:.5,y:.5}},e).start(),new D.Z(o).to({x:-30,y:120,rotation:Math.random()*Math.PI*2,scale:{x:.5,y:.5}},e).start(),t.next=14,new D.Z({}).to({},e).start().onUpdate((function(){a.emitter.p.x=r.x,a.emitter.p.y=r.y,u.emitter.p.x=i.x,u.emitter.p.y=i.y,s.emitter.p.x=o.x,s.emitter.p.y=o.y}));case 14:hi.Z.clear(this),this.parent&&this.parent.removeChild(this);case 16:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){yi(o,n,r,a,u,"next",t)}function u(t){yi(o,n,r,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})}],n&&mi(e.prototype,n),r&&mi(e,r),u}(o.Z.Component);const xi=ki;var Oi=n(9759);function Pi(t){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(t)}function Ci(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Si(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ci(o,r,i,a,u,"next",t)}function u(t){Ci(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _i(t,e,n){return _i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qi(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},_i(t,e,n||t)}function Zi(t,e){return Zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zi(t,e)}function ji(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qi(t);if(e){var i=qi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ti(this,n)}}function Ti(t,e){return!e||"object"!==Pi(e)&&"function"!=typeof e?Bi(t):e}function Bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qi(t){return qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qi(t)}var Ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zi(t,e)}(s,t);var e,n,r,i,o,u=ji(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=u.call(this,t),s.instance=Bi(e),e.isWin=Oi.Z.instance.isWin,e}return e=s,n=[{key:"init",value:(o=Si(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_i(qi(s.prototype),"init",this).call(this);case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onCreate",value:(i=Si(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.heroContainer=this.query("hero-container/location/hero"),this.currentHero=a.Z.get("playerCharacter","RobinHood"),this.hero=(0,Mt.U)(this.currentHero),t.next=5,this.hero.init();case 5:this.isWin?this.hero.playAnimation(Dt.Z.win):this.hero.playAnimation(Dt.Z.lose),this.heroContainer.addChild(this.hero);case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"tick",value:function(t){var e,n;null===(e=this.hero)||void 0===e||null===(n=e.view)||void 0===n||n.update(t/1e3)}}],n&&Ri(e.prototype,n),r&&Ri(e,r),s}(o.Z.Container);function Ai(t){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ai(t)}function Mi(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Di(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Mi(o,r,i,a,u,"next",t)}function u(t){Mi(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Ii(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Li(t,e,n){return Li="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ui(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Li(t,e,n||t)}function Ni(t,e){return Ni=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ni(t,e)}function Xi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ui(t);if(e){var i=Ui(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fi(this,n)}}function Fi(t,e){return!e||"object"!==Ai(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ui(t){return Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ui(t)}var Hi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ni(t,e)}(u,t);var e,n,r,i,o,a=Xi(u);function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.call(this,t)}return e=u,n=[{key:"init",value:(o=Di(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Li(Ui(u.prototype),"init",this).call(this);case 2:this.startAnimation();case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"startAnimation",value:(i=Di(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animation=this.createAnimation("blink",!1,!1,1/0),t.next=3,new w.Z(1e4*Math.random()).start();case 3:this.animation.start();case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"dispose",value:function(){this.animation&&this.animation.stop()}}],n&&Ii(e.prototype,n),r&&Ii(e,r),u}(o.Z.Component);const Yi=Hi;function Wi(t){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(t)}function Vi(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Gi(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Vi(o,r,i,a,u,"next",t)}function u(t){Vi(o,r,i,a,u,"throw",t)}a(void 0)}))}}function zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qi(t,e,n){return Qi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=to(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Qi(t,e,n||t)}function $i(t,e){return $i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$i(t,e)}function Ji(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=to(t);if(e){var i=to(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ki(this,n)}}function Ki(t,e){return!e||"object"!==Wi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function to(t){return to=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},to(t)}var eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$i(t,e)}(s,t);var e,n,i,o,a,u=Ji(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=u.call(this,t)).animationTimer=null,e.active=!0,e}return e=s,n=[{key:"init",value:(a=Gi(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qi(to(s.prototype),"init",this).call(this);case 2:this.initAnimation();case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"initAnimation",value:(o=Gi(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new w.Z(100).start();case 2:this.view=this.query("view"),this.view.visible=!1,this.playAnimation();case 5:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"playAnimation",value:function(){var t=this;this.active&&(this.animationTimer=new w.Z(5e3*Math.random()).start(),this.animationTimer.once("finish",Gi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.view.visible=!0,t.view.alpha=0,e.next=4,new r.ZP.Tween(t.view).to({alpha:1},500*Math.random()).start();case 4:return e.next=6,new w.Z(500*Math.random()+1e3).start();case 6:return t.view.visible=!1,e.next=9,new w.Z(2e3*Math.random()+1e3).start();case 9:t.playAnimation();case 10:case"end":return e.stop()}}),e)})))))}},{key:"dispose",value:function(){this.animationTimer&&this.animationTimer.destroy(),this.active=!1}}],n&&zi(e.prototype,n),i&&zi(e,i),s}(o.Z.Component);const no=eo;function ro(t){return ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(t)}function io(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ao(t,e){return ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ao(t,e)}function uo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=co(t);if(e){var i=co(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return so(this,n)}}function so(t,e){return!e||"object"!==ro(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function co(t){return co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},co(t)}var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ao(t,e)}(a,t);var e,n,i,o=uo(a);function a(){return io(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"onCreate",value:function(){this.trail=this.query("trail"),this.view=this.query("view"),this.startX=this.view.x,this.trailPosition=this.trail.toGlobal({x:0,y:0}),this.trailPosition=this.view.toLocal(this.trailPosition),this.startAnimation()}},{key:"startAnimation",value:function(){var t=this;this.animationTween&&r.ZP.remove(this.animationTween),this.updateTrail(),this.animationTween=new r.ZP.Tween(this.view).to({x:this.startX+Number(this.getProp("distance"))},Number(this.getProp("time"))).delay(Number(this.getProp("delay"))).onComplete((function(){t.view.x=t.startX,t.startAnimation()})).onUpdate((function(){t.updateTrail()})).start()}},{key:"updateTrail",value:function(){var t=this.view.toGlobal({x:this.trailPosition.x,y:this.trailPosition.y});t=this.trail.toLocal(t),this.trail.emitter.p.x=t.x,this.trail.emitter.p.y=t.y}},{key:"dispose",value:function(){this.animationTween&&r.ZP.remove(this.animationTween)}}])&&oo(e.prototype,n),i&&oo(e,i),a}(o.Z.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(lo,"defaultProps",{distance:{type:"number",value:-4e3},time:{type:"number",value:1e4},delay:{type:"number",value:3e3}});const fo=lo;function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}function po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vo(t,e){return vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vo(t,e)}function mo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wo(t);if(e){var i=wo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bo(this,n)}}function bo(t,e){return!e||"object"!==ho(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wo(t){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(t)}var go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vo(t,e)}(o,t);var e,n,r,i=mo(o);function o(){return po(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"onCreate",value:function(){this.speed=Number(this.getProp("speed")),this.animator=new D.Z(this.tilePosition).to({x:124*Math.sign(this.speed),y:0},Math.abs(this.speed)).repeat(1/0).start()}},{key:"dispose",value:function(){this.animator&&this.animator.stop()}}])&&yo(e.prototype,n),r&&yo(e,r),o}(o.Z.TilingSprite);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(go,"defaultProps",{speed:{type:"number",value:1e3}});const ko=go;function xo(t){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(t)}function Oo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Co(t,e){return Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Co(t,e)}function So(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_o(t);if(e){var i=_o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ro(this,n)}}function Ro(t,e){return!e||"object"!==xo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _o(t){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(t)}const Zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(o,t);var e,n,r,i=So(o);function o(){return Oo(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"onCreate",value:function(){this.startX=this.x,this.startY=this.y,this.animator1=new D.Z(this).to({x:-this.startX},3e4).repeat(1/0).start(),this.animator2=new D.Z(this).to({y:this.startY+30},1e3).easing(D.Z.Easing.Sinusoidal.InOut).yoyo(!0).repeat(1/0).start()}},{key:"dispose",value:function(){this.animator1&&this.animator1.stop(),this.animator2&&this.animator2.stop()}}])&&Po(e.prototype,n),r&&Po(e,r),o}(o.Z.Sprite);function jo(t){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(t)}function To(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Bo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eo(t,e){return Eo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Eo(t,e)}function Ao(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Do(t);if(e){var i=Do(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mo(this,n)}}function Mo(t,e){return!e||"object"!==jo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Do(t){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(t)}var Io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eo(t,e)}(s,t);var e,n,i,o,a,u=Ao(s);function s(){return Bo(this,s),u.apply(this,arguments)}return e=s,n=[{key:"onCreate",value:(o=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.trail=this.query("trail"),this.view=this.query("view"),this.trailPosition=this.trail.toGlobal({x:0,y:0}),this.trailPosition=this.view.toLocal(this.trailPosition),this.startAnimation();case 5:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){To(i,n,r,a,u,"next",t)}function u(t){To(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"startAnimation",value:function(){var t=this;this.animator&&r.ZP.remove(this.animator),this.updateTrail();var e=Number(this.getProp("minX")),n=Number(this.getProp("maxX")),i=Number(this.getProp("time"));if(0!==n){var o=0;o=Math.sign(this.scale.x)*Math.sign(this.view.scale.x)>0?n:e,o*=Math.sign(this.scale.x),i*=Math.abs(o-this.view.x)/(n-e),this.animator=new r.ZP.Tween(this.view).to({x:o},Math.abs(i)).onComplete((function(){t.view.scale.x*=-1,t.startAnimation()})).onUpdate((function(){t.updateTrail()})).start()}}},{key:"updateTrail",value:function(){var t=this.view.toGlobal({x:this.trailPosition.x,y:this.trailPosition.y});t=this.trail.toLocal(t),this.trail.emitter.p.x=t.x,this.trail.emitter.p.y=t.y}},{key:"dispose",value:function(){this.animator&&r.ZP.remove(this.animator)}}],n&&qo(e.prototype,n),i&&qo(e,i),s}(o.Z.Component);!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Io,"defaultProps",{minX:{type:"number",value:-1e3},maxX:{type:"number",value:1e3},time:{type:"number",value:3e4}});const Lo=Io;function No(t){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(t)}function Xo(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Fo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ho(t,e){return Ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ho(t,e)}function Yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vo(t);if(e){var i=Vo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wo(this,n)}}function Wo(t,e){return!e||"object"!==No(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vo(t){return Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vo(t)}var Go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ho(t,e)}(u,t);var e,n,r,i,o,a=Yo(u);function u(){return Fo(this,u),a.apply(this,arguments)}return e=u,n=[{key:"onCreate",value:function(){this.isDisposed=!1,this.startAnimation()}},{key:"startAnimation",value:(i=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDisposed){t.next=2;break}return t.abrupt("return");case 2:return(e=this.query("eyes")).alpha=0,t.next=6,new w.Z(1e4*Math.random()+5e3).start();case 6:if(!this.isDisposed){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,new D.Z(e).to({alpha:[1,0]},500).start();case 10:if(!this.isDisposed){t.next=12;break}return t.abrupt("return");case 12:this.startAnimation();case 13:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){Xo(o,n,r,a,u,"next",t)}function u(t){Xo(o,n,r,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"dispose",value:function(){this.isDisposed=!0}}],n&&Uo(e.prototype,n),r&&Uo(e,r),u}(o.Z.Component);const zo=Go;function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function $o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ko(t,e){return Ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ko(t,e)}function ta(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=na(t);if(e){var i=na(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ea(this,n)}}function ea(t,e){return!e||"object"!==Qo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function na(t){return na=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},na(t)}var ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ko(t,e)}(o,t);var e,n,r,i=ta(o);function o(){return $o(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"onCreate",value:function(){this.view=this.query("view"),this.view.alpha=0,this.view.scale.set(.8),this.animator=new D.Z(this.view).to({alpha:[.15,0],scale:{x:[1.1,.8],y:[1.1,.8]}},200*Math.random()+200).repeat(1/0).start()}},{key:"dispose",value:function(){this.animator.stop()}}])&&Jo(e.prototype,n),r&&Jo(e,r),o}(o.Z.Component);const ia={Wallet:y,AchievementsSpawner:A,LevelStart:J,TransitionOverlay:ct,EventCountdown:dt,ProgressBar:qt,WinAnimations:we,Panel:le,MenuLocation:Gt,Calendar:qe,DayItem:Ye,Selector:an,CharacterSelectPanel:gn,Reward:_n,FinalLocation:Ei,HUD:Fn,LifeBar:Jn,DistanceMark:cr,LocationLayer:wr,ApplesInfo:Rr,BirdsInfo:Ar,GameProgress:Yr,Countdown:ni,LeaveTournamentPopup:fi,BrooklynSign:Yi,BrooklynWindow:no,EggActivateVFX:xi,DesertCar:fo,CityWater:ko,CityBoat:Zo,CityCar:Lo,CemeteryEyes:zo,CemeteryCandleLight:ra}}}]);